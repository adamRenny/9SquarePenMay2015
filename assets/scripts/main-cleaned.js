/*!
 * eventie v1.0.6
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 * MIT license
 */

/*!
 * docReady v1.0.4
 * Cross browser DOMContentLoaded event emitter
 * MIT license
 */

// Snap.svg 0.4.1
//
// Copyright (c) 2013 – 2015 Adobe Systems Incorporated. All rights reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
//
// build: 2015-04-13

// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// 
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
// 
// http://www.apache.org/licenses/LICENSE-2.0
// 
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
// ┌────────────────────────────────────────────────────────────┐ \\
// │ Eve 0.4.2 - JavaScript Events Library                      │ \\
// ├────────────────────────────────────────────────────────────┤ \\
// │ Author Dmitry Baranovskiy (http://dmitry.baranovskiy.com/) │ \\
// └────────────────────────────────────────────────────────────┘ \\

// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// 
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
// 
// http://www.apache.org/licenses/LICENSE-2.0
// 
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// Copyright (c) 2013 - 2015 Adobe Systems Incorporated. All rights reserved.
// 
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
// 
// http://www.apache.org/licenses/LICENSE-2.0
// 
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// Copyright (c) 2014 Adobe Systems Incorporated. All rights reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

/* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

  * Redistributions of source code must retain the above copyright notice, this
    list of conditions and the following disclaimer.
  * Redistributions in binary form must reproduce the above copyright notice,
    this list of conditions and the following disclaimer in the documentation
    and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */

/* Copyright (c) 2013, Brandon Jones, Colin MacKenzie IV. All rights reserved.

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

  * Redistributions of source code must retain the above copyright notice, this
    list of conditions and the following disclaimer.
  * Redistributions in binary form must reproduce the above copyright notice,
    this list of conditions and the following disclaimer in the documentation 
    and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE 
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */

/*!
 * VERSION: 1.16.1
 * DATE: 2015-03-13
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */

!function(t){"use strict";function e(e){var n=t.event;n.target=n.target||n.srcElement||e;return n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(t,e,n){t.addEventListener(e,n,!1)}:n.attachEvent&&(i=function(t,n,i){t[n+i]=i.handleEvent?function(){var n=e(t);i.handleEvent.call(i,n)}:function(){var n=e(t);i.call(t,n)};t.attachEvent("on"+n,t[n+i])});var r=function(){};n.removeEventListener?r=function(t,e,n){t.removeEventListener(e,n,!1)}:n.detachEvent&&(r=function(t,e,n){t.detachEvent("on"+e,t[e+n]);try{delete t[e+n]}catch(i){t[e+n]=void 0}});var a={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",a):"object"==typeof exports?module.exports=a:t.eventie=a}(window);!function(t){"use strict";function e(t){"function"==typeof t&&(e.isReady?t():s.push(t))}function n(t){var n="readystatechange"===t.type&&"complete"!==a.readyState;e.isReady||n||i()}function i(){e.isReady=!0;for(var t=0,n=s.length;n>t;t++){var i=s[t];i()}}function r(r){if("complete"===a.readyState)i();else{r.bind(a,"DOMContentLoaded",n);r.bind(a,"readystatechange",n);r.bind(t,"load",n)}return e}var a=t.document,s=[];e.isReady=!1;"function"==typeof define&&define.amd?define("docReady",["eventie/eventie"],r):"object"==typeof exports?module.exports=r(require("eventie")):t.docReady=r(t.eventie)}(window);define("app/Constants",["require"],function(){return{DIMENSIONS:{WIDTH:250,HEIGHT:250,SIZE:250,HALF_SIZE:125,QUARTER_SIZE:62.5},COLORS:{BLUE:"#2A3443",GREEN:"#569480",YELLOW:"#F7DA4B",RED:"#C55841",WHITE:"#FFFFFF"}}});!function(t){var e,n,i="0.4.2",r="hasOwnProperty",a=/[\.\/]/,s=/\s*,\s*/,o="*",u=function(t,e){return t-e},l={n:{}},h=function(){for(var t=0,e=this.length;e>t;t++)if("undefined"!=typeof this[t])return this[t]},f=function(){for(var t=this.length;--t;)if("undefined"!=typeof this[t])return this[t]},c=function(t,i){t=String(t);var r,a=n,s=Array.prototype.slice.call(arguments,2),o=c.listeners(t),l=0,d=[],p={},m=[],g=e;m.firstDefined=h;m.lastDefined=f;e=t;n=0;for(var v=0,_=o.length;_>v;v++)if("zIndex"in o[v]){d.push(o[v].zIndex);o[v].zIndex<0&&(p[o[v].zIndex]=o[v])}d.sort(u);for(;d[l]<0;){r=p[d[l++]];m.push(r.apply(i,s));if(n){n=a;return m}}for(v=0;_>v;v++){r=o[v];if("zIndex"in r)if(r.zIndex==d[l]){m.push(r.apply(i,s));if(n)break;do{l++;r=p[d[l]];r&&m.push(r.apply(i,s));if(n)break}while(r)}else p[r.zIndex]=r;else{m.push(r.apply(i,s));if(n)break}}n=a;e=g;return m};c._events=l;c.listeners=function(t){var e,n,i,r,s,u,h,f,c=t.split(a),d=l,p=[d],m=[];for(r=0,s=c.length;s>r;r++){f=[];for(u=0,h=p.length;h>u;u++){d=p[u].n;n=[d[c[r]],d[o]];i=2;for(;i--;){e=n[i];if(e){f.push(e);m=m.concat(e.f||[])}}}p=f}return m};c.on=function(t,e){t=String(t);if("function"!=typeof e)return function(){};for(var n=t.split(s),i=0,r=n.length;r>i;i++)!function(t){for(var n,i=t.split(a),r=l,s=0,o=i.length;o>s;s++){r=r.n;r=r.hasOwnProperty(i[s])&&r[i[s]]||(r[i[s]]={n:{}})}r.f=r.f||[];for(s=0,o=r.f.length;o>s;s++)if(r.f[s]==e){n=!0;break}!n&&r.f.push(e)}(n[i]);return function(t){+t==+t&&(e.zIndex=+t)}};c.f=function(t){var e=[].slice.call(arguments,1);return function(){c.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}};c.stop=function(){n=1};c.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e};c.nts=function(){return e.split(a)};c.off=c.unbind=function(t,e){if(t){var n=t.split(s);if(n.length>1)for(var i=0,u=n.length;u>i;i++)c.off(n[i],e);else{n=t.split(a);var h,f,d,i,u,p,m,g=[l];for(i=0,u=n.length;u>i;i++)for(p=0;p<g.length;p+=d.length-2){d=[p,1];h=g[p].n;if(n[i]!=o)h[n[i]]&&d.push(h[n[i]]);else for(f in h)h[r](f)&&d.push(h[f]);g.splice.apply(g,d)}for(i=0,u=g.length;u>i;i++){h=g[i];for(;h.n;){if(e){if(h.f){for(p=0,m=h.f.length;m>p;p++)if(h.f[p]==e){h.f.splice(p,1);break}!h.f.length&&delete h.f}for(f in h.n)if(h.n[r](f)&&h.n[f].f){var v=h.n[f].f;for(p=0,m=v.length;m>p;p++)if(v[p]==e){v.splice(p,1);break}!v.length&&delete h.n[f].f}}else{delete h.f;for(f in h.n)h.n[r](f)&&h.n[f].f&&delete h.n[f].f}h=h.n}}}}else c._events=l={n:{}}};c.once=function(t,e){var n=function(){c.unbind(t,n);return e.apply(this,arguments)};return c.on(t,n)};c.version=i;c.toString=function(){return"You are running Eve "+i};"undefined"!=typeof module&&module.exports?module.exports=c:"function"==typeof define&&define.amd?define("eve",[],function(){return c}):t.eve=c}(this);!function(t,e){if("function"==typeof define&&define.amd)define("snap",["eve"],function(n){return e(t,n)});else if("undefined"!=typeof exports){var n=require("eve");module.exports=e(t,n)}else e(t,t.eve)}(window||this,function(t,e){var n=function(e){var n={},i=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},r=Array.isArray||function(t){return t instanceof Array||"[object Array]"==Object.prototype.toString.call(t)},a=0,s="M"+(+new Date).toString(36),o=function(){return s+(a++).toString(36)},u=Date.now||function(){return+new Date},l=function(t){var e=this;if(null==t)return e.s;var n=e.s-t;e.b+=e.dur*n;e.B+=e.dur*n;e.s=t},h=function(t){var e=this;if(null==t)return e.spd;e.spd=t;return void 0},f=function(t){var e=this;if(null==t)return e.dur;e.s=e.s*t/e.dur;e.dur=t},c=function(){var t=this;delete n[t.id];t.update();e("mina.stop."+t.id,t)},d=function(){var t=this;if(!t.pdif){delete n[t.id];t.update();t.pdif=t.get()-t.b}},p=function(){var t=this;if(t.pdif){t.b=t.get()-t.pdif;delete t.pdif;n[t.id]=t}},m=function(){var t,e=this;if(r(e.start)){t=[];for(var n=0,i=e.start.length;i>n;n++)t[n]=+e.start[n]+(e.end[n]-e.start[n])*e.easing(e.s)}else t=+e.start+(e.end-e.start)*e.easing(e.s);e.set(t)},g=function(){var t=0;for(var r in n)if(n.hasOwnProperty(r)){var a=n[r],s=a.get();t++;a.s=(s-a.b)/(a.dur/a.spd);if(a.s>=1){delete n[r];a.s=1;t--;!function(t){setTimeout(function(){e("mina.finish."+t.id,t)})}(a)}a.update()}t&&i(g)},v=function(t,e,r,a,s,u,_){var y={id:o(),start:t,end:e,b:r,s:0,dur:a-r,spd:1,get:s,set:u,easing:_||v.linear,status:l,speed:h,duration:f,stop:c,pause:d,resume:p,update:m};n[y.id]=y;var x,b=0;for(x in n)if(n.hasOwnProperty(x)){b++;if(2==b)break}1==b&&i(g);return y};v.time=u;v.getById=function(t){return n[t]||null};v.linear=function(t){return t};v.easeout=function(t){return Math.pow(t,1.7)};v.easein=function(t){return Math.pow(t,.48)};v.easeinout=function(t){if(1==t)return 1;if(0==t)return 0;var e=.48-t/1.04,n=Math.sqrt(.1734+e*e),i=n-e,r=Math.pow(Math.abs(i),1/3)*(0>i?-1:1),a=-n-e,s=Math.pow(Math.abs(a),1/3)*(0>a?-1:1),o=r+s+.5;return 3*(1-o)*o*o+o*o*o};v.backin=function(t){if(1==t)return 1;var e=1.70158;return t*t*((e+1)*t-e)};v.backout=function(t){if(0==t)return 0;t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1};v.elastic=function(t){return t==!!t?t:Math.pow(2,-10*t)*Math.sin(2*(t-.075)*Math.PI/.3)+1};v.bounce=function(t){var e,n=7.5625,i=2.75;if(1/i>t)e=n*t*t;else if(2/i>t){t-=1.5/i;e=n*t*t+.75}else if(2.5/i>t){t-=2.25/i;e=n*t*t+.9375}else{t-=2.625/i;e=n*t*t+.984375}return e};t.mina=v;return v}("undefined"==typeof e?function(){}:e),i=function(t){function n(t,e){if(t){if(t.nodeType)return w(t);if(r(t,"array")&&n.set)return n.set.apply(n,t);if(t instanceof _)return t;if(null==e){t=S.doc.querySelector(String(t));return w(t)}}t=null==t?"100%":t;e=null==e?"100%":e;return new b(t,e)}function i(t,e){if(e){"#text"==t&&(t=S.doc.createTextNode(e.text||e["#text"]||""));"#comment"==t&&(t=S.doc.createComment(e.text||e["#text"]||""));"string"==typeof t&&(t=i(t));if("string"==typeof e)return 1==t.nodeType?"xlink:"==e.substring(0,6)?t.getAttributeNS(U,e.substring(6)):"xml:"==e.substring(0,4)?t.getAttributeNS(V,e.substring(4)):t.getAttribute(e):"text"==e?t.nodeValue:null;if(1==t.nodeType){for(var n in e)if(e[M](n)){var r=C(e[n]);r?"xlink:"==n.substring(0,6)?t.setAttributeNS(U,n.substring(6),r):"xml:"==n.substring(0,4)?t.setAttributeNS(V,n.substring(4),r):t.setAttribute(n,r):t.removeAttribute(n)}}else"text"in e&&(t.nodeValue=e.text)}else t=S.doc.createElementNS(V,t);return t}function r(t,e){e=C.prototype.toLowerCase.call(e);return"finite"==e?isFinite(t):"array"==e&&(t instanceof Array||Array.isArray&&Array.isArray(t))?!0:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||F.call(t).slice(8,-1).toLowerCase()==e}function a(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)t[M](n)&&(e[n]=a(t[n]));return e}function s(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function o(t,e,n){function i(){var r=Array.prototype.slice.call(arguments,0),a=r.join("␀"),o=i.cache=i.cache||{},u=i.count=i.count||[];if(o[M](a)){s(u,a);return n?n(o[a]):o[a]}u.length>=1e3&&delete o[u.shift()];u.push(a);o[a]=t.apply(e,r);return n?n(o[a]):o[a]}return i}function u(t,e,n,i,r,a){if(null==r){var s=t-n,o=e-i;return s||o?(180+180*k.atan2(-o,-s)/I+360)%360:0}return u(t,e,r,a)-u(n,i,r,a)}function l(t){return t%360*I/180}function h(t){return 180*t/I%360}function f(t){var e=[];t=t.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(t,n,i){i=i.split(/\s*,\s*|\s+/);"rotate"==n&&1==i.length&&i.push(0,0);if("scale"==n){i.length>2?i=i.slice(0,2):2==i.length&&i.push(0,0);1==i.length&&i.push(i[0],0,0)}e.push("skewX"==n?["m",1,0,k.tan(l(i[0])),1,0,0]:"skewY"==n?["m",1,k.tan(l(i[0])),0,1,0,0]:[n.charAt(0)].concat(i));return t});return e}function c(t,e){var i=te(t),r=new n.Matrix;if(i)for(var a=0,s=i.length;s>a;a++){var o,u,l,h,f,c=i[a],d=c.length,p=C(c[0]).toLowerCase(),m=c[0]!=p,g=m?r.invert():0;if("t"==p&&2==d)r.translate(c[1],0);else if("t"==p&&3==d)if(m){o=g.x(0,0);u=g.y(0,0);l=g.x(c[1],c[2]);h=g.y(c[1],c[2]);r.translate(l-o,h-u)}else r.translate(c[1],c[2]);else if("r"==p){if(2==d){f=f||e;r.rotate(c[1],f.x+f.width/2,f.y+f.height/2)}else if(4==d)if(m){l=g.x(c[2],c[3]);h=g.y(c[2],c[3]);r.rotate(c[1],l,h)}else r.rotate(c[1],c[2],c[3])}else if("s"==p){if(2==d||3==d){f=f||e;r.scale(c[1],c[d-1],f.x+f.width/2,f.y+f.height/2)}else if(4==d)if(m){l=g.x(c[2],c[3]);h=g.y(c[2],c[3]);r.scale(c[1],c[1],l,h)}else r.scale(c[1],c[1],c[2],c[3]);else if(5==d)if(m){l=g.x(c[3],c[4]);h=g.y(c[3],c[4]);r.scale(c[1],c[2],l,h)}else r.scale(c[1],c[2],c[3],c[4])}else"m"==p&&7==d&&r.add(c[1],c[2],c[3],c[4],c[5],c[6])}return r}function d(t){var e=t.node.ownerSVGElement&&w(t.node.ownerSVGElement)||t.node.parentNode&&w(t.node.parentNode)||n.select("svg")||n(0,0),i=e.select("defs"),r=null==i?!1:i.node;r||(r=x("defs",e.node).node);return r}function p(t){return t.node.ownerSVGElement&&w(t.node.ownerSVGElement)||n.select("svg")}function m(t,e,n){function r(t){if(null==t)return D;if(t==+t)return t;i(l,{width:t});try{return l.getBBox().width}catch(e){return 0}}function a(t){if(null==t)return D;if(t==+t)return t;i(l,{height:t});try{return l.getBBox().height}catch(e){return 0}}function s(i,r){null==e?u[i]=r(t.attr(i)||0):i==e&&(u=r(null==n?t.attr(i)||0:n))}var o=p(t).node,u={},l=o.querySelector(".svg---mgr");if(!l){l=i("rect");i(l,{x:-9e9,y:-9e9,width:10,height:10,"class":"svg---mgr",fill:"none"});o.appendChild(l)}switch(t.type){case"rect":s("rx",r);s("ry",a);case"image":s("width",r);s("height",a);case"text":s("x",r);s("y",a);break;case"circle":s("cx",r);s("cy",a);s("r",r);break;case"ellipse":s("cx",r);s("cy",a);s("rx",r);s("ry",a);break;case"line":s("x1",r);s("x2",r);s("y1",a);s("y2",a);break;case"marker":s("refX",r);s("markerWidth",r);s("refY",a);s("markerHeight",a);break;case"radialGradient":s("fx",r);s("fy",a);break;case"tspan":s("dx",r);s("dy",a);break;default:s(e,r)}o.removeChild(l);return u}function v(t){r(t,"array")||(t=Array.prototype.slice.call(arguments,0));for(var e=0,n=0,i=this.node;this[e];)delete this[e++];for(e=0;e<t.length;e++)"set"==t[e].type?t[e].forEach(function(t){i.appendChild(t.node)}):i.appendChild(t[e].node);var a=i.childNodes;for(e=0;e<a.length;e++)this[n++]=w(a[e]);return this}function _(t){if(t.snap in Y)return Y[t.snap];var e;try{e=t.ownerSVGElement}catch(n){}this.node=t;e&&(this.paper=new b(e));this.type=t.tagName||t.nodeName;var i=this.id=G(this);this.anims={};this._={transform:[]};t.snap=i;Y[i]=this;"g"==this.type&&(this.add=v);if(this.type in{g:1,mask:1,pattern:1,symbol:1})for(var r in b.prototype)b.prototype[M](r)&&(this[r]=b.prototype[r])}function y(t){this.node=t}function x(t,e){var n=i(t);e.appendChild(n);var r=w(n);return r}function b(t,e){var n,r,a,s=b.prototype;if(t&&"svg"==t.tagName){if(t.snap in Y)return Y[t.snap];var o=t.ownerDocument;n=new _(t);r=t.getElementsByTagName("desc")[0];a=t.getElementsByTagName("defs")[0];if(!r){r=i("desc");r.appendChild(o.createTextNode("Created with Snap"));n.node.appendChild(r)}if(!a){a=i("defs");n.node.appendChild(a)}n.defs=a;for(var u in s)s[M](u)&&(n[u]=s[u]);n.paper=n.root=n}else{n=x("svg",S.doc.body);i(n.node,{height:e,version:1.1,width:t,xmlns:V})}return n}function w(t){return t?t instanceof _||t instanceof y?t:t.tagName&&"svg"==t.tagName.toLowerCase()?new b(t):t.tagName&&"object"==t.tagName.toLowerCase()&&"image/svg+xml"==t.type?new b(t.contentDocument.getElementsByTagName("svg")[0]):new _(t):t}function T(t,e){for(var n=0,i=t.length;i>n;n++){var r={type:t[n].type,attr:t[n].attr()},a=t[n].children();e.push(r);a.length&&T(a,r.childNodes=[])}}n.version="0.4.0";n.toString=function(){return"Snap v"+this.version};n._={};var S={win:t.window,doc:t.window.document};n._.glob=S;{var M="hasOwnProperty",C=String,P=parseFloat,A=parseInt,k=Math,E=k.max,L=k.min,N=k.abs,I=(k.pow,k.PI),D=(k.round,""),F=Object.prototype.toString,R=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,O=(n._.separator=/[,\s]+/,/[\s]*,[\s]*/),q={hs:1,rg:1},B=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,z=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,j=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/gi,X=0,Z="S"+(+new Date).toString(36),G=function(t){return(t&&t.type?t.type:D)+Z+(X++).toString(36)},U="http://www.w3.org/1999/xlink",V="http://www.w3.org/2000/svg",Y={};n.url=function(t){return"url('#"+t+"')"}}n._.$=i;n._.id=G;n.format=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(t,n,i){var r=i;n.replace(e,function(t,e,n,i,a){e=e||i;if(r){e in r&&(r=r[e]);"function"==typeof r&&a&&(r=r())}});r=(null==r||r==i?t:r)+"";return r};return function(e,i){return C(e).replace(t,function(t,e){return n(t,e,i)})}}();n._.clone=a;n._.cacher=o;n.rad=l;n.deg=h;n.sin=function(t){return k.sin(n.rad(t))};n.tan=function(t){return k.tan(n.rad(t))};n.cos=function(t){return k.cos(n.rad(t))};n.asin=function(t){return n.deg(k.asin(t))};n.acos=function(t){return n.deg(k.acos(t))};n.atan=function(t){return n.deg(k.atan(t))};n.atan2=function(t){return n.deg(k.atan2(t))};n.angle=u;n.len=function(t,e,i,r){return Math.sqrt(n.len2(t,e,i,r))};n.len2=function(t,e,n,i){return(t-n)*(t-n)+(e-i)*(e-i)};n.closestPoint=function(t,e,n){function i(t){var i=t.x-e,r=t.y-n;return i*i+r*r}for(var r,a,s,o,u=t.node,l=u.getTotalLength(),h=l/u.pathSegList.numberOfItems*.125,f=1/0,c=0;l>=c;c+=h)(o=i(s=u.getPointAtLength(c)))<f&&(r=s,a=c,f=o);h*=.5;for(;h>.5;){var d,p,m,g,v,_;(m=a-h)>=0&&(v=i(d=u.getPointAtLength(m)))<f?(r=d,a=m,f=v):(g=a+h)<=l&&(_=i(p=u.getPointAtLength(g)))<f?(r=p,a=g,f=_):h*=.5}r={x:r.x,y:r.y,length:a,distance:Math.sqrt(f)};return r};n.is=r;n.snapTo=function(t,e,n){n=r(n,"finite")?n:10;if(r(t,"array")){for(var i=t.length;i--;)if(N(t[i]-e)<=n)return t[i]}else{t=+t;var a=e%t;if(n>a)return e-a;if(a>t-n)return e-a+t}return e};n.getRGB=o(function(t){if(!t||(t=C(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:W};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:W};!(q[M](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=H(t));if(!t)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:W};var e,i,a,s,o,u,l=t.match(R);if(l){if(l[2]){a=A(l[2].substring(5),16);i=A(l[2].substring(3,5),16);e=A(l[2].substring(1,3),16)}if(l[3]){a=A((o=l[3].charAt(3))+o,16);i=A((o=l[3].charAt(2))+o,16);e=A((o=l[3].charAt(1))+o,16)}if(l[4]){u=l[4].split(O);e=P(u[0]);"%"==u[0].slice(-1)&&(e*=2.55);i=P(u[1]);"%"==u[1].slice(-1)&&(i*=2.55);a=P(u[2]);"%"==u[2].slice(-1)&&(a*=2.55);"rgba"==l[1].toLowerCase().slice(0,4)&&(s=P(u[3]));u[3]&&"%"==u[3].slice(-1)&&(s/=100)}if(l[5]){u=l[5].split(O);e=P(u[0]);"%"==u[0].slice(-1)&&(e/=100);i=P(u[1]);"%"==u[1].slice(-1)&&(i/=100);a=P(u[2]);"%"==u[2].slice(-1)&&(a/=100);("deg"==u[0].slice(-3)||"°"==u[0].slice(-1))&&(e/=360);"hsba"==l[1].toLowerCase().slice(0,4)&&(s=P(u[3]));u[3]&&"%"==u[3].slice(-1)&&(s/=100);return n.hsb2rgb(e,i,a,s)}if(l[6]){u=l[6].split(O);e=P(u[0]);"%"==u[0].slice(-1)&&(e/=100);i=P(u[1]);"%"==u[1].slice(-1)&&(i/=100);a=P(u[2]);"%"==u[2].slice(-1)&&(a/=100);("deg"==u[0].slice(-3)||"°"==u[0].slice(-1))&&(e/=360);"hsla"==l[1].toLowerCase().slice(0,4)&&(s=P(u[3]));u[3]&&"%"==u[3].slice(-1)&&(s/=100);return n.hsl2rgb(e,i,a,s)}e=L(k.round(e),255);i=L(k.round(i),255);a=L(k.round(a),255);s=L(E(s,0),1);l={r:e,g:i,b:a,toString:W};l.hex="#"+(16777216|a|i<<8|e<<16).toString(16).slice(1);l.opacity=r(s,"finite")?s:1;return l}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:W}},n);n.hsb=o(function(t,e,i){return n.hsb2rgb(t,e,i).hex});n.hsl=o(function(t,e,i){return n.hsl2rgb(t,e,i).hex});n.rgb=o(function(t,e,n,i){if(r(i,"finite")){var a=k.round;return"rgba("+[a(t),a(e),a(n),+i.toFixed(2)]+")"}return"#"+(16777216|n|e<<8|t<<16).toString(16).slice(1)});var H=function(t){var e=S.doc.getElementsByTagName("head")[0]||S.doc.getElementsByTagName("svg")[0],n="rgb(255, 0, 0)";H=o(function(t){if("red"==t.toLowerCase())return n;e.style.color=n;e.style.color=t;var i=S.doc.defaultView.getComputedStyle(e,D).getPropertyValue("color");return i==n?null:i});return H(t)},Q=function(){return"hsb("+[this.h,this.s,this.b]+")"},$=function(){return"hsl("+[this.h,this.s,this.l]+")"},W=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},J=function(t,e,i){if(null==e&&r(t,"object")&&"r"in t&&"g"in t&&"b"in t){i=t.b;e=t.g;t=t.r}if(null==e&&r(t,string)){var a=n.getRGB(t);t=a.r;e=a.g;i=a.b}if(t>1||e>1||i>1){t/=255;e/=255;i/=255}return[t,e,i]},K=function(t,e,i,a){t=k.round(255*t);e=k.round(255*e);i=k.round(255*i);var s={r:t,g:e,b:i,opacity:r(a,"finite")?a:1,hex:n.rgb(t,e,i),toString:W};r(a,"finite")&&(s.opacity=a);return s};n.color=function(t){var e;if(r(t,"object")&&"h"in t&&"s"in t&&"b"in t){e=n.hsb2rgb(t);t.r=e.r;t.g=e.g;t.b=e.b;t.opacity=1;t.hex=e.hex}else if(r(t,"object")&&"h"in t&&"s"in t&&"l"in t){e=n.hsl2rgb(t);t.r=e.r;t.g=e.g;t.b=e.b;t.opacity=1;t.hex=e.hex}else{r(t,"string")&&(t=n.getRGB(t));if(r(t,"object")&&"r"in t&&"g"in t&&"b"in t&&!("error"in t)){e=n.rgb2hsl(t);t.h=e.h;t.s=e.s;t.l=e.l;e=n.rgb2hsb(t);t.v=e.b}else{t={hex:"none"};t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1;t.error=1}}t.toString=W;return t};n.hsb2rgb=function(t,e,n,i){if(r(t,"object")&&"h"in t&&"s"in t&&"b"in t){n=t.b;e=t.s;i=t.o;t=t.h}t*=360;var a,s,o,u,l;t=t%360/60;l=n*e;u=l*(1-N(t%2-1));a=s=o=n-l;t=~~t;a+=[l,u,0,0,u,l][t];s+=[u,l,l,u,0,0][t];o+=[0,0,u,l,l,u][t];return K(a,s,o,i)};n.hsl2rgb=function(t,e,n,i){if(r(t,"object")&&"h"in t&&"s"in t&&"l"in t){n=t.l;e=t.s;t=t.h}if(t>1||e>1||n>1){t/=360;e/=100;n/=100}t*=360;var a,s,o,u,l;t=t%360/60;l=2*e*(.5>n?n:1-n);u=l*(1-N(t%2-1));a=s=o=n-l/2;t=~~t;a+=[l,u,0,0,u,l][t];s+=[u,l,l,u,0,0][t];o+=[0,0,u,l,l,u][t];return K(a,s,o,i)};n.rgb2hsb=function(t,e,n){n=J(t,e,n);t=n[0];e=n[1];n=n[2];var i,r,a,s;a=E(t,e,n);s=a-L(t,e,n);i=0==s?null:a==t?(e-n)/s:a==e?(n-t)/s+2:(t-e)/s+4;i=(i+360)%6*60/360;r=0==s?0:s/a;return{h:i,s:r,b:a,toString:Q}};n.rgb2hsl=function(t,e,n){n=J(t,e,n);t=n[0];e=n[1];n=n[2];var i,r,a,s,o,u;s=E(t,e,n);o=L(t,e,n);u=s-o;i=0==u?null:s==t?(e-n)/u:s==e?(n-t)/u+2:(t-e)/u+4;i=(i+360)%6*60/360;a=(s+o)/2;r=0==u?0:.5>a?u/(2*a):u/(2-2*a);return{h:i,s:r,l:a,toString:$}};n.parsePathString=function(t){if(!t)return null;var e=n.path(t);if(e.arr)return n.path.clone(e.arr);var i={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];r(t,"array")&&r(t[0],"array")&&(a=n.path.clone(t));a.length||C(t).replace(B,function(t,e,n){var r=[],s=e.toLowerCase();n.replace(j,function(t,e){e&&r.push(+e)});if("m"==s&&r.length>2){a.push([e].concat(r.splice(0,2)));s="l";e="m"==e?"l":"L"}"o"==s&&1==r.length&&a.push([e,r[0]]);if("r"==s)a.push([e].concat(r));else for(;r.length>=i[s];){a.push([e].concat(r.splice(0,i[s])));if(!i[s])break}});a.toString=n.path.toString;e.arr=n.path.clone(a);return a};var te=n.parseTransformString=function(t){if(!t)return null;var e=[];r(t,"array")&&r(t[0],"array")&&(e=n.path.clone(t));e.length||C(t).replace(z,function(t,n,i){{var r=[];n.toLowerCase()}i.replace(j,function(t,e){e&&r.push(+e)});e.push([n].concat(r))});e.toString=n.path.toString;return e};n._.svgTransform2string=f;n._.rgTransform=/^[a-z][\s]*-?\.?\d/i;n._.transform2matrix=c;n._unit2px=m;S.doc.contains||S.doc.compareDocumentPosition?function(t,e){var n=9==t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t==i||!(!i||1!=i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e;){e=e.parentNode;if(e==t)return!0}return!1};n._.getSomeDefs=d;n._.getSomeSVG=p;n.select=function(t){t=C(t).replace(/([^\\]):/g,"$1\\:");return w(S.doc.querySelector(t))};n.selectAll=function(t){for(var e=S.doc.querySelectorAll(t),i=(n.set||Array)(),r=0;r<e.length;r++)i.push(w(e[r]));return i};setInterval(function(){for(var t in Y)if(Y[M](t)){var e=Y[t],n=e.node;("svg"!=e.type&&!n.ownerSVGElement||"svg"==e.type&&(!n.parentNode||"ownerSVGElement"in n.parentNode&&!n.ownerSVGElement))&&delete Y[t]}},1e4);_.prototype.attr=function(t,n){var i=this,a=i.node;if(!t){if(1!=a.nodeType)return{text:a.nodeValue};for(var s=a.attributes,o={},u=0,l=s.length;l>u;u++)o[s[u].nodeName]=s[u].nodeValue;return o}if(r(t,"string")){if(!(arguments.length>1))return e("snap.util.getattr."+t,i).firstDefined();var h={};h[t]=n;t=h}for(var f in t)t[M](f)&&e("snap.util.attr."+f,i,t[f]);return i};n.parse=function(t){var e=S.doc.createDocumentFragment(),n=!0,i=S.doc.createElement("div");t=C(t);if(!t.match(/^\s*<\s*svg(?:\s|>)/)){t="<svg>"+t+"</svg>";n=!1}i.innerHTML=t;t=i.getElementsByTagName("svg")[0];if(t)if(n)e=t;else for(;t.firstChild;)e.appendChild(t.firstChild);return new y(e)};n.fragment=function(){for(var t=Array.prototype.slice.call(arguments,0),e=S.doc.createDocumentFragment(),i=0,r=t.length;r>i;i++){var a=t[i];a.node&&a.node.nodeType&&e.appendChild(a.node);a.nodeType&&e.appendChild(a);"string"==typeof a&&e.appendChild(n.parse(a).node)}return new y(e)};n._.make=x;n._.wrap=w;b.prototype.el=function(t,e){var n=x(t,this.node);e&&n.attr(e);return n};_.prototype.children=function(){for(var t=[],e=this.node.childNodes,i=0,r=e.length;r>i;i++)t[i]=n(e[i]);return t};_.prototype.toJSON=function(){var t=[];T([this],t);return t[0]};e.on("snap.util.getattr",function(){var t=e.nt();t=t.substring(t.lastIndexOf(".")+1);var n=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});return ee[M](n)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(n):i(this.node,t)});var ee={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};e.on("snap.util.attr",function(t){var n=e.nt(),r={};n=n.substring(n.lastIndexOf(".")+1);r[n]=t;var a=n.replace(/-(\w)/gi,function(t,e){return e.toUpperCase()}),s=n.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});ee[M](s)?this.node.style[a]=null==t?D:t:i(this.node,r)});!function(){}(b.prototype);n.ajax=function(t,n,i,a){var s=new XMLHttpRequest,o=G();if(s){if(r(n,"function")){a=i;i=n;n=null}else if(r(n,"object")){var u=[];for(var l in n)n.hasOwnProperty(l)&&u.push(encodeURIComponent(l)+"="+encodeURIComponent(n[l]));n=u.join("&")}s.open(n?"POST":"GET",t,!0);if(n){s.setRequestHeader("X-Requested-With","XMLHttpRequest");s.setRequestHeader("Content-type","application/x-www-form-urlencoded")}if(i){e.once("snap.ajax."+o+".0",i);e.once("snap.ajax."+o+".200",i);e.once("snap.ajax."+o+".304",i)}s.onreadystatechange=function(){4==s.readyState&&e("snap.ajax."+o+"."+s.status,a,s)};if(4==s.readyState)return s;s.send(n);return s}};n.load=function(t,e,i){n.ajax(t,function(t){var r=n.parse(t.responseText);i?e.call(i,r):e(r)})};var ne=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,i=n.body,r=n.documentElement,a=r.clientTop||i.clientTop||0,s=r.clientLeft||i.clientLeft||0,o=e.top+(g.win.pageYOffset||r.scrollTop||i.scrollTop)-a,u=e.left+(g.win.pageXOffset||r.scrollLeft||i.scrollLeft)-s;return{y:o,x:u}};n.getElementByPoint=function(t,e){var n=this,i=(n.canvas,S.doc.elementFromPoint(t,e));if(S.win.opera&&"svg"==i.tagName){var r=ne(i),a=i.createSVGRect();a.x=t-r.x;a.y=e-r.y;a.width=a.height=1;var s=i.getIntersectionList(a,null);s.length&&(i=s[s.length-1])}return i?w(i):null};n.plugin=function(t){t(n,_,b,S,y)};S.win.Snap=n;return n}(t||this);i.plugin(function(i,r,a,s,o){function u(t,e){if(null==e){var n=!0;e=t.node.getAttribute("linearGradient"==t.type||"radialGradient"==t.type?"gradientTransform":"pattern"==t.type?"patternTransform":"transform");if(!e)return new i.Matrix;e=i._.svgTransform2string(e)}else{e=i._.rgTransform.test(e)?p(e).replace(/\.{3}|\u2026/g,t._.transform||""):i._.svgTransform2string(e);d(e,"array")&&(e=i.path?i.path.toString.call(e):p(e));t._.transform=e}var r=i._.transform2matrix(e,t.getBBox(1));if(n)return r;t.matrix=r;return void 0}function l(t){function e(t,e){var n=g(t.node,e);n=n&&n.match(a);n=n&&n[2];if(n&&"#"==n.charAt()){n=n.substring(1);n&&(o[n]=(o[n]||[]).concat(function(n){var i={};i[e]=URL(n);g(t.node,i)}))}}function n(t){var e=g(t.node,"xlink:href");if(e&&"#"==e.charAt()){e=e.substring(1);e&&(o[e]=(o[e]||[]).concat(function(e){t.attr("xlink:href","#"+e)}))}}for(var i,r=t.selectAll("*"),a=/^\s*url\(("|'|)(.*)\1\)\s*$/,s=[],o={},u=0,l=r.length;l>u;u++){i=r[u];e(i,"fill");e(i,"stroke");e(i,"filter");e(i,"mask");e(i,"clip-path");n(i);var h=g(i.node,"id");if(h){g(i.node,{id:i.id});s.push({old:h,id:i.id})}}for(u=0,l=s.length;l>u;u++){var f=o[s[u].old];if(f)for(var c=0,d=f.length;d>c;c++)f[c](s[u].id)}}function h(t,e,n){return function(i){var r=i.slice(t,e);1==r.length&&(r=r[0]);return n?n(r):r}}function f(t){return function(){var e=t?"<"+this.type:"",n=this.node.attributes,i=this.node.childNodes;if(t)for(var r=0,a=n.length;a>r;r++)e+=" "+n[r].name+'="'+n[r].value.replace(/"/g,'\\"')+'"';if(i.length){t&&(e+=">");for(r=0,a=i.length;a>r;r++)3==i[r].nodeType?e+=i[r].nodeValue:1==i[r].nodeType&&(e+=x(i[r]).toString());t&&(e+="</"+this.type+">")}else t&&(e+="/>");return e}}var c=r.prototype,d=i.is,p=String,m=i._unit2px,g=i._.$,v=i._.make,_=i._.getSomeDefs,y="hasOwnProperty",x=i._.wrap;c.getBBox=function(t){if(!i.Matrix||!i.path)return this.node.getBBox();var e=this,n=new i.Matrix;if(e.removed)return i._.box();for(;"use"==e.type;){t||(n=n.add(e.transform().localMatrix.translate(e.attr("x")||0,e.attr("y")||0)));if(e.original)e=e.original;else{var r=e.attr("xlink:href");e=e.original=e.node.ownerDocument.getElementById(r.substring(r.indexOf("#")+1))}}var a=e._,s=i.path.get[e.type]||i.path.get.deflt;try{if(t){a.bboxwt=s?i.path.getBBox(e.realPath=s(e)):i._.box(e.node.getBBox());return i._.box(a.bboxwt)}e.realPath=s(e);e.matrix=e.transform().localMatrix;a.bbox=i.path.getBBox(i.path.map(e.realPath,n.add(e.matrix)));return i._.box(a.bbox)}catch(o){return i._.box()}};var b=function(){return this.string};c.transform=function(t){var e=this._;if(null==t){for(var n,r=this,a=new i.Matrix(this.node.getCTM()),s=u(this),o=[s],l=new i.Matrix,h=s.toTransformString(),f=p(s)==p(this.matrix)?p(e.transform):h;"svg"!=r.type&&(r=r.parent());)o.push(u(r));n=o.length;for(;n--;)l.add(o[n]);return{string:f,globalMatrix:a,totalMatrix:l,localMatrix:s,diffMatrix:a.clone().add(s.invert()),global:a.toTransformString(),total:l.toTransformString(),local:h,toString:b}}if(t instanceof i.Matrix){this.matrix=t;this._.transform=t.toTransformString()}else u(this,t);this.node&&("linearGradient"==this.type||"radialGradient"==this.type?g(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?g(this.node,{patternTransform:this.matrix}):g(this.node,{transform:this.matrix}));return this};c.parent=function(){return x(this.node.parentNode)};c.append=c.add=function(t){if(t){if("set"==t.type){var e=this;t.forEach(function(t){e.add(t)});return this}t=x(t);this.node.appendChild(t.node);t.paper=this.paper}return this};c.appendTo=function(t){if(t){t=x(t);t.append(this)}return this};c.prepend=function(t){if(t){if("set"==t.type){var e,n=this;t.forEach(function(t){e?e.after(t):n.prepend(t);e=t});return this}t=x(t);var i=t.parent();this.node.insertBefore(t.node,this.node.firstChild);this.add&&this.add();t.paper=this.paper;this.parent()&&this.parent().add();i&&i.add()}return this};c.prependTo=function(t){t=x(t);t.prepend(this);return this};c.before=function(t){if("set"==t.type){var e=this;t.forEach(function(t){var n=t.parent();e.node.parentNode.insertBefore(t.node,e.node);n&&n.add()});this.parent().add();return this}t=x(t);var n=t.parent();this.node.parentNode.insertBefore(t.node,this.node);this.parent()&&this.parent().add();n&&n.add();t.paper=this.paper;return this};c.after=function(t){t=x(t);var e=t.parent();this.node.nextSibling?this.node.parentNode.insertBefore(t.node,this.node.nextSibling):this.node.parentNode.appendChild(t.node);this.parent()&&this.parent().add();e&&e.add();t.paper=this.paper;return this};c.insertBefore=function(t){t=x(t);var e=this.parent();t.node.parentNode.insertBefore(this.node,t.node);this.paper=t.paper;e&&e.add();t.parent()&&t.parent().add();return this};c.insertAfter=function(t){t=x(t);var e=this.parent();t.node.parentNode.insertBefore(this.node,t.node.nextSibling);this.paper=t.paper;e&&e.add();t.parent()&&t.parent().add();return this};c.remove=function(){var t=this.parent();this.node.parentNode&&this.node.parentNode.removeChild(this.node);delete this.paper;this.removed=!0;t&&t.add();return this};c.select=function(t){return x(this.node.querySelector(t))};c.selectAll=function(t){for(var e=this.node.querySelectorAll(t),n=(i.set||Array)(),r=0;r<e.length;r++)n.push(x(e[r]));return n};c.asPX=function(t,e){null==e&&(e=this.attr(t));return+m(this,t,e)};c.use=function(){var t,e=this.node.id;if(!e){e=this.id;g(this.node,{id:e})}t="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?v(this.type,this.node.parentNode):v("use",this.node.parentNode);g(t.node,{"xlink:href":"#"+e});t.original=this;return t};c.clone=function(){var t=x(this.node.cloneNode(!0));g(t.node,"id")&&g(t.node,{id:t.id});l(t);t.insertAfter(this);return t};c.toDefs=function(){var t=_(this);t.appendChild(this.node);return this};c.pattern=c.toPattern=function(t,e,n,i){var r=v("pattern",_(this));null==t&&(t=this.getBBox());if(d(t,"object")&&"x"in t){e=t.y;n=t.width;i=t.height;t=t.x}g(r.node,{x:t,y:e,width:n,height:i,patternUnits:"userSpaceOnUse",id:r.id,viewBox:[t,e,n,i].join(" ")});r.node.appendChild(this.node);return r};c.marker=function(t,e,n,i,r,a){var s=v("marker",_(this));
null==t&&(t=this.getBBox());if(d(t,"object")&&"x"in t){e=t.y;n=t.width;i=t.height;r=t.refX||t.cx;a=t.refY||t.cy;t=t.x}g(s.node,{viewBox:[t,e,n,i].join(" "),markerWidth:n,markerHeight:i,orient:"auto",refX:r||0,refY:a||0,id:s.id});s.node.appendChild(this.node);return s};var w=function(t,e,i,r){if("function"==typeof i&&!i.length){r=i;i=n.linear}this.attr=t;this.dur=e;i&&(this.easing=i);r&&(this.callback=r)};i._.Animation=w;i.animation=function(t,e,n,i){return new w(t,e,n,i)};c.inAnim=function(){var t=this,e=[];for(var n in t.anims)t.anims[y](n)&&!function(t){e.push({anim:new w(t._attrs,t.dur,t.easing,t._callback),mina:t,curStatus:t.status(),status:function(e){return t.status(e)},stop:function(){t.stop()}})}(t.anims[n]);return e};i.animate=function(t,i,r,a,s,o){if("function"==typeof s&&!s.length){o=s;s=n.linear}var u=n.time(),l=n(t,i,u,u+a,n.time,r,s);o&&e.once("mina.finish."+l.id,o);return l};c.stop=function(){for(var t=this.inAnim(),e=0,n=t.length;n>e;e++)t[e].stop();return this};c.animate=function(t,i,r,a){if("function"==typeof r&&!r.length){a=r;r=n.linear}if(t instanceof w){a=t.callback;r=t.easing;i=t.dur;t=t.attr}var s,o,u,l,f=[],c=[],m={},g=this;for(var v in t)if(t[y](v)){if(g.equal){l=g.equal(v,p(t[v]));s=l.from;o=l.to;u=l.f}else{s=+g.attr(v);o=+t[v]}var _=d(s,"array")?s.length:1;m[v]=h(f.length,f.length+_,u);f=f.concat(s);c=c.concat(o)}var x=n.time(),b=n(f,c,x,x+i,n.time,function(t){var e={};for(var n in m)m[y](n)&&(e[n]=m[n](t));g.attr(e)},r);g.anims[b.id]=b;b._attrs=t;b._callback=a;e("snap.animcreated."+g.id,b);e.once("mina.finish."+b.id,function(){delete g.anims[b.id];a&&a.call(g)});e.once("mina.stop."+b.id,function(){delete g.anims[b.id]});return g};var T={};c.data=function(t,n){var r=T[this.id]=T[this.id]||{};if(0==arguments.length){e("snap.data.get."+this.id,this,r,null);return r}if(1==arguments.length){if(i.is(t,"object")){for(var a in t)t[y](a)&&this.data(a,t[a]);return this}e("snap.data.get."+this.id,this,r[t],t);return r[t]}r[t]=n;e("snap.data.set."+this.id,this,n,t);return this};c.removeData=function(t){null==t?T[this.id]={}:T[this.id]&&delete T[this.id][t];return this};c.outerSVG=c.toString=f(1);c.innerSVG=f();c.toDataURL=function(){if(t&&t.btoa){var e=this.getBBox(),n=i.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+e.x.toFixed(3),y:+e.y.toFixed(3),width:+e.width.toFixed(3),height:+e.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(n)))}};o.prototype.select=c.select;o.prototype.selectAll=c.selectAll});i.plugin(function(t){function e(t,e,i,r,a,s){if(null!=e||"[object SVGMatrix]"!=n.call(t))if(null!=t){this.a=+t;this.b=+e;this.c=+i;this.d=+r;this.e=+a;this.f=+s}else{this.a=1;this.b=0;this.c=0;this.d=1;this.e=0;this.f=0}else{this.a=t.a;this.b=t.b;this.c=t.c;this.d=t.d;this.e=t.e;this.f=t.f}}var n=Object.prototype.toString,i=String,r=Math,a="";!function(n){function s(t){return t[0]*t[0]+t[1]*t[1]}function o(t){var e=r.sqrt(s(t));t[0]&&(t[0]/=e);t[1]&&(t[1]/=e)}n.add=function(t,n,i,r,a,s){var o,u,l,h,f=[[],[],[]],c=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],d=[[t,i,a],[n,r,s],[0,0,1]];t&&t instanceof e&&(d=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]);for(o=0;3>o;o++)for(u=0;3>u;u++){h=0;for(l=0;3>l;l++)h+=c[o][l]*d[l][u];f[o][u]=h}this.a=f[0][0];this.b=f[1][0];this.c=f[0][1];this.d=f[1][1];this.e=f[0][2];this.f=f[1][2];return this};n.invert=function(){var t=this,n=t.a*t.d-t.b*t.c;return new e(t.d/n,-t.b/n,-t.c/n,t.a/n,(t.c*t.f-t.d*t.e)/n,(t.b*t.e-t.a*t.f)/n)};n.clone=function(){return new e(this.a,this.b,this.c,this.d,this.e,this.f)};n.translate=function(t,e){return this.add(1,0,0,1,t,e)};n.scale=function(t,e,n,i){null==e&&(e=t);(n||i)&&this.add(1,0,0,1,n,i);this.add(t,0,0,e,0,0);(n||i)&&this.add(1,0,0,1,-n,-i);return this};n.rotate=function(e,n,i){e=t.rad(e);n=n||0;i=i||0;var a=+r.cos(e).toFixed(9),s=+r.sin(e).toFixed(9);this.add(a,s,-s,a,n,i);return this.add(1,0,0,1,-n,-i)};n.x=function(t,e){return t*this.a+e*this.c+this.e};n.y=function(t,e){return t*this.b+e*this.d+this.f};n.get=function(t){return+this[i.fromCharCode(97+t)].toFixed(4)};n.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"};n.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};n.determinant=function(){return this.a*this.d-this.b*this.c};n.split=function(){var e={};e.dx=this.e;e.dy=this.f;var n=[[this.a,this.c],[this.b,this.d]];e.scalex=r.sqrt(s(n[0]));o(n[0]);e.shear=n[0][0]*n[1][0]+n[0][1]*n[1][1];n[1]=[n[1][0]-n[0][0]*e.shear,n[1][1]-n[0][1]*e.shear];e.scaley=r.sqrt(s(n[1]));o(n[1]);e.shear/=e.scaley;this.determinant()<0&&(e.scalex=-e.scalex);var i=-n[0][1],a=n[1][1];if(0>a){e.rotate=t.deg(r.acos(a));0>i&&(e.rotate=360-e.rotate)}else e.rotate=t.deg(r.asin(i));e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate);e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate;e.noRotation=!+e.shear.toFixed(9)&&!e.rotate;return e};n.toTransformString=function(t){var e=t||this.split();if(+e.shear.toFixed(9))return"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)];e.scalex=+e.scalex.toFixed(4);e.scaley=+e.scaley.toFixed(4);e.rotate=+e.rotate.toFixed(4);return(e.dx||e.dy?"t"+[+e.dx.toFixed(4),+e.dy.toFixed(4)]:a)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:a)+(e.rotate?"r"+[+e.rotate.toFixed(4),0,0]:a)}}(e.prototype);t.Matrix=e;t.matrix=function(t,n,i,r,a,s){return new e(t,n,i,r,a,s)}});i.plugin(function(t,n,i,r,a){function s(i){return function(r){e.stop();if(r instanceof a&&1==r.node.childNodes.length&&("radialGradient"==r.node.firstChild.tagName||"linearGradient"==r.node.firstChild.tagName||"pattern"==r.node.firstChild.tagName)){r=r.node.firstChild;d(this).appendChild(r);r=f(r)}if(r instanceof n)if("radialGradient"==r.type||"linearGradient"==r.type||"pattern"==r.type){r.node.id||m(r.node,{id:r.id});var s=g(r.node.id)}else s=r.attr(i);else{s=t.color(r);if(s.error){var o=t(d(this).ownerSVGElement).gradient(r);if(o){o.node.id||m(o.node,{id:o.id});s=g(o.node.id)}else s=r}else s=v(s)}var u={};u[i]=s;m(this.node,u);this.node.style[i]=y}}function o(t){e.stop();t==+t&&(t+="px");this.node.style.fontSize=t}function u(t){for(var e=[],n=t.childNodes,i=0,r=n.length;r>i;i++){var a=n[i];3==a.nodeType&&e.push(a.nodeValue);"tspan"==a.tagName&&e.push(1==a.childNodes.length&&3==a.firstChild.nodeType?a.firstChild.nodeValue:u(a))}return e}function l(){e.stop();return this.node.style.fontSize}var h=t._.make,f=t._.wrap,c=t.is,d=t._.getSomeDefs,p=/^url\(#?([^)]+)\)$/,m=t._.$,g=t.url,v=String,_=t._.separator,y="";e.on("snap.util.attr.mask",function(t){if(t instanceof n||t instanceof a){e.stop();if(t instanceof a&&1==t.node.childNodes.length){t=t.node.firstChild;d(this).appendChild(t);t=f(t)}if("mask"==t.type)var i=t;else{i=h("mask",d(this));i.node.appendChild(t.node)}!i.node.id&&m(i.node,{id:i.id});m(this.node,{mask:g(i.id)})}});!function(t){e.on("snap.util.attr.clip",t);e.on("snap.util.attr.clip-path",t);e.on("snap.util.attr.clipPath",t)}(function(t){if(t instanceof n||t instanceof a){e.stop();if("clipPath"==t.type)var i=t;else{i=h("clipPath",d(this));i.node.appendChild(t.node);!i.node.id&&m(i.node,{id:i.id})}m(this.node,{"clip-path":g(i.node.id||i.id)})}});e.on("snap.util.attr.fill",s("fill"));e.on("snap.util.attr.stroke",s("stroke"));var x=/^([lr])(?:\(([^)]*)\))?(.*)$/i;e.on("snap.util.grad.parse",function(t){t=v(t);var e=t.match(x);if(!e)return null;var n=e[1],i=e[2],r=e[3];i=i.split(/\s*,\s*/).map(function(t){return+t==t?+t:t});1==i.length&&0==i[0]&&(i=[]);r=r.split("-");r=r.map(function(t){t=t.split(":");var e={color:t[0]};t[1]&&(e.offset=parseFloat(t[1]));return e});return{type:n,params:i,stops:r}});e.on("snap.util.attr.d",function(n){e.stop();c(n,"array")&&c(n[0],"array")&&(n=t.path.toString.call(n));n=v(n);n.match(/[ruo]/i)&&(n=t.path.toAbsolute(n));m(this.node,{d:n})})(-1);e.on("snap.util.attr.#text",function(t){e.stop();t=v(t);for(var n=r.doc.createTextNode(t);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(n)})(-1);e.on("snap.util.attr.path",function(t){e.stop();this.attr({d:t})})(-1);e.on("snap.util.attr.class",function(t){e.stop();this.node.className.baseVal=t})(-1);e.on("snap.util.attr.viewBox",function(t){var n;n=c(t,"object")&&"x"in t?[t.x,t.y,t.width,t.height].join(" "):c(t,"array")?t.join(" "):t;m(this.node,{viewBox:n});e.stop()})(-1);e.on("snap.util.attr.transform",function(t){this.transform(t);e.stop()})(-1);e.on("snap.util.attr.r",function(t){if("rect"==this.type){e.stop();m(this.node,{rx:t,ry:t})}})(-1);e.on("snap.util.attr.textpath",function(t){e.stop();if("text"==this.type){var i,r,a;if(!t&&this.textPath){r=this.textPath;for(;r.node.firstChild;)this.node.appendChild(r.node.firstChild);r.remove();delete this.textPath;return}if(c(t,"string")){var s=d(this),o=f(s.parentNode).path(t);s.appendChild(o.node);i=o.id;o.attr({id:i})}else{t=f(t);if(t instanceof n){i=t.attr("id");if(!i){i=t.id;t.attr({id:i})}}}if(i){r=this.textPath;a=this.node;if(r)r.attr({"xlink:href":"#"+i});else{r=m("textPath",{"xlink:href":"#"+i});for(;a.firstChild;)r.appendChild(a.firstChild);a.appendChild(r);this.textPath=f(r)}}}})(-1);e.on("snap.util.attr.text",function(t){if("text"==this.type){for(var n=this.node,i=function(t){var e=m("tspan");if(c(t,"array"))for(var n=0;n<t.length;n++)e.appendChild(i(t[n]));else e.appendChild(r.doc.createTextNode(t));e.normalize&&e.normalize();return e};n.firstChild;)n.removeChild(n.firstChild);for(var a=i(t);a.firstChild;)n.appendChild(a.firstChild)}e.stop()})(-1);e.on("snap.util.attr.fontSize",o)(-1);e.on("snap.util.attr.font-size",o)(-1);e.on("snap.util.getattr.transform",function(){e.stop();return this.transform()})(-1);e.on("snap.util.getattr.textpath",function(){e.stop();return this.textPath})(-1);!function(){function n(n){return function(){e.stop();var i=r.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+n);return"none"==i?i:t(r.doc.getElementById(i.match(p)[1]))}}function i(t){return function(n){e.stop();var i="marker"+t.charAt(0).toUpperCase()+t.substring(1);if(""!=n&&n)if("marker"!=n.type);else{var r=n.node.id;r||m(n.node,{id:n.id});this.node.style[i]=g(r)}else this.node.style[i]="none"}}e.on("snap.util.getattr.marker-end",n("end"))(-1);e.on("snap.util.getattr.markerEnd",n("end"))(-1);e.on("snap.util.getattr.marker-start",n("start"))(-1);e.on("snap.util.getattr.markerStart",n("start"))(-1);e.on("snap.util.getattr.marker-mid",n("mid"))(-1);e.on("snap.util.getattr.markerMid",n("mid"))(-1);e.on("snap.util.attr.marker-end",i("end"))(-1);e.on("snap.util.attr.markerEnd",i("end"))(-1);e.on("snap.util.attr.marker-start",i("start"))(-1);e.on("snap.util.attr.markerStart",i("start"))(-1);e.on("snap.util.attr.marker-mid",i("mid"))(-1);e.on("snap.util.attr.markerMid",i("mid"))(-1)}();e.on("snap.util.getattr.r",function(){if("rect"==this.type&&m(this.node,"rx")==m(this.node,"ry")){e.stop();return m(this.node,"rx")}})(-1);e.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){e.stop();var t=u(this.node);return 1==t.length?t[0]:t}})(-1);e.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1);e.on("snap.util.getattr.viewBox",function(){e.stop();var n=m(this.node,"viewBox");if(n){n=n.split(_);return t._.box(+n[0],+n[1],+n[2],+n[3])}})(-1);e.on("snap.util.getattr.points",function(){var t=m(this.node,"points");e.stop();return t?t.split(_):void 0})(-1);e.on("snap.util.getattr.path",function(){var t=m(this.node,"d");e.stop();return t})(-1);e.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1);e.on("snap.util.getattr.fontSize",l)(-1);e.on("snap.util.getattr.font-size",l)(-1)});i.plugin(function(t,e){var n=/\S+/g,i=String,r=e.prototype;r.addClass=function(t){var e,r,a,s,o=i(t||"").match(n)||[],u=this.node,l=u.className.baseVal,h=l.match(n)||[];if(o.length){e=0;for(;a=o[e++];){r=h.indexOf(a);~r||h.push(a)}s=h.join(" ");l!=s&&(u.className.baseVal=s)}return this};r.removeClass=function(t){var e,r,a,s,o=i(t||"").match(n)||[],u=this.node,l=u.className.baseVal,h=l.match(n)||[];if(h.length){e=0;for(;a=o[e++];){r=h.indexOf(a);~r&&h.splice(r,1)}s=h.join(" ");l!=s&&(u.className.baseVal=s)}return this};r.hasClass=function(t){var e=this.node,i=e.className.baseVal,r=i.match(n)||[];return!!~r.indexOf(t)};r.toggleClass=function(t,e){if(null!=e)return e?this.addClass(t):this.removeClass(t);var i,r,a,s,o=(t||"").match(n)||[],u=this.node,l=u.className.baseVal,h=l.match(n)||[];i=0;for(;a=o[i++];){r=h.indexOf(a);~r?h.splice(r,1):h.push(a)}s=h.join(" ");l!=s&&(u.className.baseVal=s);return this}});i.plugin(function(){function t(t){return t}function n(t){return function(e){return+e.toFixed(3)+t}}var i={"+":function(t,e){return t+e},"-":function(t,e){return t-e},"/":function(t,e){return t/e},"*":function(t,e){return t*e}},r=String,a=/[a-z]+$/i,s=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;e.on("snap.util.attr",function(t){var n=r(t).match(s);if(n){var o=e.nt(),u=o.substring(o.lastIndexOf(".")+1),l=this.attr(u),h={};e.stop();var f=n[3]||"",c=l.match(a),d=i[n[1]];if(c&&c==f)t=d(parseFloat(l),+n[2]);else{l=this.asPX(u);t=d(this.asPX(u),this.asPX(u,n[2]+f))}if(isNaN(l)||isNaN(t))return;h[u]=t;this.attr(h)}})(-10);e.on("snap.util.equal",function(o,u){var l=r(this.attr(o)||""),h=r(u).match(s);if(h){e.stop();var f=h[3]||"",c=l.match(a),d=i[h[1]];if(c&&c==f)return{from:parseFloat(l),to:d(parseFloat(l),+h[2]),f:n(c)};l=this.asPX(o);return{from:l,to:d(l,this.asPX(o,h[2]+f)),f:t}}})(-10)});i.plugin(function(n,i,r,a){var s=r.prototype,o=n.is;s.rect=function(t,e,n,i,r,a){var s;null==a&&(a=r);if(o(t,"object")&&"[object Object]"==t)s=t;else if(null!=t){s={x:t,y:e,width:n,height:i};if(null!=r){s.rx=r;s.ry=a}}return this.el("rect",s)};s.circle=function(t,e,n){var i;o(t,"object")&&"[object Object]"==t?i=t:null!=t&&(i={cx:t,cy:e,r:n});return this.el("circle",i)};var u=function(){function t(){this.parentNode.removeChild(this)}return function(e,n){var i=a.doc.createElement("img"),r=a.doc.body;i.style.cssText="position:absolute;left:-9999em;top:-9999em";i.onload=function(){n.call(i);i.onload=i.onerror=null;r.removeChild(i)};i.onerror=t;r.appendChild(i);i.src=e}}();s.image=function(t,e,i,r,a){var s=this.el("image");if(o(t,"object")&&"src"in t)s.attr(t);else if(null!=t){var l={"xlink:href":t,preserveAspectRatio:"none"};if(null!=e&&null!=i){l.x=e;l.y=i}if(null!=r&&null!=a){l.width=r;l.height=a}else u(t,function(){n._.$(s.node,{width:this.offsetWidth,height:this.offsetHeight})});n._.$(s.node,l)}return s};s.ellipse=function(t,e,n,i){var r;o(t,"object")&&"[object Object]"==t?r=t:null!=t&&(r={cx:t,cy:e,rx:n,ry:i});return this.el("ellipse",r)};s.path=function(t){var e;o(t,"object")&&!o(t,"array")?e=t:t&&(e={d:t});return this.el("path",e)};s.group=s.g=function(t){var e=this.el("g");1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0));return e};s.svg=function(t,e,n,i,r,a,s,u){var l={};if(o(t,"object")&&null==e)l=t;else{null!=t&&(l.x=t);null!=e&&(l.y=e);null!=n&&(l.width=n);null!=i&&(l.height=i);null!=r&&null!=a&&null!=s&&null!=u&&(l.viewBox=[r,a,s,u])}return this.el("svg",l)};s.mask=function(t){var e=this.el("mask");1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0));return e};s.ptrn=function(t,e,n,i,r,a,s,u){if(o(t,"object"))var l=t;else{l={patternUnits:"userSpaceOnUse"};t&&(l.x=t);e&&(l.y=e);null!=n&&(l.width=n);null!=i&&(l.height=i);l.viewBox=null!=r&&null!=a&&null!=s&&null!=u?[r,a,s,u]:[t||0,e||0,n||0,i||0]}return this.el("pattern",l)};s.use=function(t){if(null!=t){if(t instanceof i){t.attr("id")||t.attr({id:n._.id(t)});t=t.attr("id")}"#"==String(t).charAt()&&(t=t.substring(1));return this.el("use",{"xlink:href":"#"+t})}return i.prototype.use.call(this)};s.symbol=function(t,e,n,i){var r={};null!=t&&null!=e&&null!=n&&null!=i&&(r.viewBox=[t,e,n,i]);return this.el("symbol",r)};s.text=function(t,e,n){var i={};o(t,"object")?i=t:null!=t&&(i={x:t,y:e,text:n||""});return this.el("text",i)};s.line=function(t,e,n,i){var r={};o(t,"object")?r=t:null!=t&&(r={x1:t,x2:n,y1:e,y2:i});return this.el("line",r)};s.polyline=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};o(t,"object")&&!o(t,"array")?e=t:null!=t&&(e={points:t});return this.el("polyline",e)};s.polygon=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};o(t,"object")&&!o(t,"array")?e=t:null!=t&&(e={points:t});return this.el("polygon",e)};!function(){function i(){return this.selectAll("stop")}function r(t,e){var i=h("stop"),r={offset:+e+"%"};t=n.color(t);r["stop-color"]=t.hex;t.opacity<1&&(r["stop-opacity"]=t.opacity);h(i,r);this.node.appendChild(i);return this}function a(){if("linearGradient"==this.type){var t=h(this.node,"x1")||0,e=h(this.node,"x2")||1,i=h(this.node,"y1")||0,r=h(this.node,"y2")||0;return n._.box(t,i,math.abs(e-t),math.abs(r-i))}var a=this.node.cx||.5,s=this.node.cy||.5,o=this.node.r||0;return n._.box(a-o,s-o,2*o,2*o)}function o(t,n){function i(t,e){for(var n=(e-f)/(t-c),i=c;t>i;i++)s[i].offset=+(+f+n*(i-c)).toFixed(2);c=t;f=e}var r,a=e("snap.util.grad.parse",null,n).firstDefined();if(!a)return null;a.params.unshift(t);r="l"==a.type.toLowerCase()?u.apply(0,a.params):l.apply(0,a.params);a.type!=a.type.toLowerCase()&&h(r.node,{gradientUnits:"userSpaceOnUse"});var s=a.stops,o=s.length,f=0,c=0;o--;for(var d=0;o>d;d++)"offset"in s[d]&&i(d,s[d].offset);s[o].offset=s[o].offset||100;i(o,s[o].offset);for(d=0;o>=d;d++){var p=s[d];r.addStop(p.color,p.offset)}return r}function u(t,e,s,o,u){var l=n._.make("linearGradient",t);l.stops=i;l.addStop=r;l.getBBox=a;null!=e&&h(l.node,{x1:e,y1:s,x2:o,y2:u});return l}function l(t,e,s,o,u,l){var f=n._.make("radialGradient",t);f.stops=i;f.addStop=r;f.getBBox=a;null!=e&&h(f.node,{cx:e,cy:s,r:o});null!=u&&null!=l&&h(f.node,{fx:u,fy:l});return f}var h=n._.$;s.gradient=function(t){return o(this.defs,t)};s.gradientLinear=function(t,e,n,i){return u(this.defs,t,e,n,i)};s.gradientRadial=function(t,e,n,i,r){return l(this.defs,t,e,n,i,r)};s.toString=function(){var t,e=this.node.ownerDocument,i=e.createDocumentFragment(),r=e.createElement("div"),a=this.node.cloneNode(!0);i.appendChild(r);r.appendChild(a);n._.$(a,{xmlns:"http://www.w3.org/2000/svg"});t=r.innerHTML;i.removeChild(i.firstChild);return t};s.toDataURL=function(){return t&&t.btoa?"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this))):void 0};s.clear=function(){for(var t,e=this.node.firstChild;e;){t=e.nextSibling;"defs"!=e.tagName?e.parentNode.removeChild(e):s.clear.call({node:e});e=t}}}()});i.plugin(function(t,e){function n(t){var e=n.ps=n.ps||{};e[t]?e[t].sleep=100:e[t]={sleep:100};setTimeout(function(){for(var n in e)if(e[R](n)&&n!=t){e[n].sleep--;!e[n].sleep&&delete e[n]}});return e[t]}function i(t,e,n,i){null==t&&(t=e=n=i=0);if(null==e){e=t.y;n=t.width;i=t.height;t=t.x}return{x:t,y:e,width:n,w:n,height:i,h:i,x2:t+n,y2:e+i,cx:t+n/2,cy:e+i/2,r1:B.min(n,i)/2,r2:B.max(n,i)/2,r0:B.sqrt(n*n+i*i)/2,path:w(t,e,n,i),vb:[t,e,n,i].join(" ")}}function r(){return this.join(",").replace(O,"$1")}function a(t){var e=F(t);e.toString=r;return e}function s(t,e,n,i,r,a,s,o,l){return null==l?d(t,e,n,i,r,a,s,o):u(t,e,n,i,r,a,s,o,p(t,e,n,i,r,a,s,o,l))}function o(n,i){function r(t){return+(+t).toFixed(3)}return t._.cacher(function(t,a,o){t instanceof e&&(t=t.attr("d"));t=E(t);for(var l,h,f,c,d,p="",m={},g=0,v=0,_=t.length;_>v;v++){f=t[v];if("M"==f[0]){l=+f[1];h=+f[2]}else{c=s(l,h,f[1],f[2],f[3],f[4],f[5],f[6]);if(g+c>a){if(i&&!m.start){d=s(l,h,f[1],f[2],f[3],f[4],f[5],f[6],a-g);p+=["C"+r(d.start.x),r(d.start.y),r(d.m.x),r(d.m.y),r(d.x),r(d.y)];if(o)return p;m.start=p;p=["M"+r(d.x),r(d.y)+"C"+r(d.n.x),r(d.n.y),r(d.end.x),r(d.end.y),r(f[5]),r(f[6])].join();g+=c;l=+f[5];h=+f[6];continue}if(!n&&!i){d=s(l,h,f[1],f[2],f[3],f[4],f[5],f[6],a-g);return d}}g+=c;l=+f[5];h=+f[6]}p+=f.shift()+f}m.end=p;d=n?g:i?m:u(l,h,f[0],f[1],f[2],f[3],f[4],f[5],1);return d},null,t._.clone)}function u(t,e,n,i,r,a,s,o,u){var l=1-u,h=Z(l,3),f=Z(l,2),c=u*u,d=c*u,p=h*t+3*f*u*n+3*l*u*u*r+d*s,m=h*e+3*f*u*i+3*l*u*u*a+d*o,g=t+2*u*(n-t)+c*(r-2*n+t),v=e+2*u*(i-e)+c*(a-2*i+e),_=n+2*u*(r-n)+c*(s-2*r+n),y=i+2*u*(a-i)+c*(o-2*a+i),x=l*t+u*n,b=l*e+u*i,w=l*r+u*s,T=l*a+u*o,S=90-180*B.atan2(g-_,v-y)/z;return{x:p,y:m,m:{x:g,y:v},n:{x:_,y:y},start:{x:x,y:b},end:{x:w,y:T},alpha:S}}function l(e,n,r,a,s,o,u,l){t.is(e,"array")||(e=[e,n,r,a,s,o,u,l]);var h=k.apply(null,e);return i(h.min.x,h.min.y,h.max.x-h.min.x,h.max.y-h.min.y)}function h(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height}function f(t,e){t=i(t);e=i(e);return h(e,t.x,t.y)||h(e,t.x2,t.y)||h(e,t.x,t.y2)||h(e,t.x2,t.y2)||h(t,e.x,e.y)||h(t,e.x2,e.y)||h(t,e.x,e.y2)||h(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}function c(t,e,n,i,r){var a=-3*e+9*n-9*i+3*r,s=t*a+6*e-12*n+6*i;return t*s-3*e+3*n}function d(t,e,n,i,r,a,s,o,u){null==u&&(u=1);u=u>1?1:0>u?0:u;for(var l=u/2,h=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,m=0;h>m;m++){var g=l*f[m]+l,v=c(g,t,n,r,s),_=c(g,e,i,a,o),y=v*v+_*_;p+=d[m]*B.sqrt(y)}return l*p}function p(t,e,n,i,r,a,s,o,u){if(!(0>u||d(t,e,n,i,r,a,s,o)<u)){var l,h=1,f=h/2,c=h-f,p=.01;l=d(t,e,n,i,r,a,s,o,c);for(;G(l-u)>p;){f/=2;c+=(u>l?1:-1)*f;l=d(t,e,n,i,r,a,s,o,c)}return c}}function m(t,e,n,i,r,a,s,o){if(!(X(t,n)<j(r,s)||j(t,n)>X(r,s)||X(e,i)<j(a,o)||j(e,i)>X(a,o))){var u=(t*i-e*n)*(r-s)-(t-n)*(r*o-a*s),l=(t*i-e*n)*(a-o)-(e-i)*(r*o-a*s),h=(t-n)*(a-o)-(e-i)*(r-s);if(h){var f=u/h,c=l/h,d=+f.toFixed(2),p=+c.toFixed(2);if(!(d<+j(t,n).toFixed(2)||d>+X(t,n).toFixed(2)||d<+j(r,s).toFixed(2)||d>+X(r,s).toFixed(2)||p<+j(e,i).toFixed(2)||p>+X(e,i).toFixed(2)||p<+j(a,o).toFixed(2)||p>+X(a,o).toFixed(2)))return{x:f,y:c}}}}function g(t,e,n){var i=l(t),r=l(e);if(!f(i,r))return n?0:[];for(var a=d.apply(0,t),s=d.apply(0,e),o=~~(a/8),h=~~(s/8),c=[],p=[],g={},v=n?0:[],_=0;o+1>_;_++){var y=u.apply(0,t.concat(_/o));c.push({x:y.x,y:y.y,t:_/o})}for(_=0;h+1>_;_++){y=u.apply(0,e.concat(_/h));p.push({x:y.x,y:y.y,t:_/h})}for(_=0;o>_;_++)for(var x=0;h>x;x++){var b=c[_],w=c[_+1],T=p[x],S=p[x+1],M=G(w.x-b.x)<.001?"y":"x",C=G(S.x-T.x)<.001?"y":"x",P=m(b.x,b.y,w.x,w.y,T.x,T.y,S.x,S.y);if(P){if(g[P.x.toFixed(4)]==P.y.toFixed(4))continue;g[P.x.toFixed(4)]=P.y.toFixed(4);var A=b.t+G((P[M]-b[M])/(w[M]-b[M]))*(w.t-b.t),k=T.t+G((P[C]-T[C])/(S[C]-T[C]))*(S.t-T.t);A>=0&&1>=A&&k>=0&&1>=k&&(n?v++:v.push({x:P.x,y:P.y,t1:A,t2:k}))}}return v}function v(t,e){return y(t,e)}function _(t,e){return y(t,e,1)}function y(t,e,n){t=E(t);e=E(e);for(var i,r,a,s,o,u,l,h,f,c,d=n?0:[],p=0,m=t.length;m>p;p++){var v=t[p];if("M"==v[0]){i=o=v[1];r=u=v[2]}else{if("C"==v[0]){f=[i,r].concat(v.slice(1));i=f[6];r=f[7]}else{f=[i,r,i,r,o,u,o,u];i=o;r=u}for(var _=0,y=e.length;y>_;_++){var x=e[_];if("M"==x[0]){a=l=x[1];s=h=x[2]}else{if("C"==x[0]){c=[a,s].concat(x.slice(1));a=c[6];s=c[7]}else{c=[a,s,a,s,l,h,l,h];a=l;s=h}var b=g(f,c,n);if(n)d+=b;else{for(var w=0,T=b.length;T>w;w++){b[w].segment1=p;b[w].segment2=_;b[w].bez1=f;b[w].bez2=c}d=d.concat(b)}}}}}return d}function x(t,e,n){var i=b(t);return h(i,e,n)&&y(t,[["M",e,n],["H",i.x2+10]],1)%2==1}function b(t){var e=n(t);if(e.bbox)return F(e.bbox);if(!t)return i();t=E(t);for(var r,a=0,s=0,o=[],u=[],l=0,h=t.length;h>l;l++){r=t[l];if("M"==r[0]){a=r[1];s=r[2];o.push(a);u.push(s)}else{var f=k(a,s,r[1],r[2],r[3],r[4],r[5],r[6]);o=o.concat(f.min.x,f.max.x);u=u.concat(f.min.y,f.max.y);a=r[5];s=r[6]}}var c=j.apply(0,o),d=j.apply(0,u),p=X.apply(0,o),m=X.apply(0,u),g=i(c,d,p-c,m-d);e.bbox=F(g);return g}function w(t,e,n,i,a){if(a)return[["M",+t+ +a,e],["l",n-2*a,0],["a",a,a,0,0,1,a,a],["l",0,i-2*a],["a",a,a,0,0,1,-a,a],["l",2*a-n,0],["a",a,a,0,0,1,-a,-a],["l",0,2*a-i],["a",a,a,0,0,1,a,-a],["z"]];var s=[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]];s.toString=r;return s}function T(t,e,n,i,a){null==a&&null==i&&(i=n);t=+t;e=+e;n=+n;i=+i;if(null!=a)var s=Math.PI/180,o=t+n*Math.cos(-i*s),u=t+n*Math.cos(-a*s),l=e+n*Math.sin(-i*s),h=e+n*Math.sin(-a*s),f=[["M",o,l],["A",n,n,0,+(a-i>180),0,u,h]];else f=[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]];f.toString=r;return f}function S(e){var i=n(e),s=String.prototype.toLowerCase;if(i.rel)return a(i.rel);t.is(e,"array")&&t.is(e&&e[0],"array")||(e=t.parsePathString(e));var o=[],u=0,l=0,h=0,f=0,c=0;if("M"==e[0][0]){u=e[0][1];l=e[0][2];h=u;f=l;c++;o.push(["M",u,l])}for(var d=c,p=e.length;p>d;d++){var m=o[d]=[],g=e[d];if(g[0]!=s.call(g[0])){m[0]=s.call(g[0]);switch(m[0]){case"a":m[1]=g[1];m[2]=g[2];m[3]=g[3];m[4]=g[4];m[5]=g[5];m[6]=+(g[6]-u).toFixed(3);m[7]=+(g[7]-l).toFixed(3);break;case"v":m[1]=+(g[1]-l).toFixed(3);break;case"m":h=g[1];f=g[2];default:for(var v=1,_=g.length;_>v;v++)m[v]=+(g[v]-(v%2?u:l)).toFixed(3)}}else{m=o[d]=[];if("m"==g[0]){h=g[1]+u;f=g[2]+l}for(var y=0,x=g.length;x>y;y++)o[d][y]=g[y]}var b=o[d].length;switch(o[d][0]){case"z":u=h;l=f;break;case"h":u+=+o[d][b-1];break;case"v":l+=+o[d][b-1];break;default:u+=+o[d][b-2];l+=+o[d][b-1]}}o.toString=r;i.rel=a(o);return o}function M(e){var i=n(e);if(i.abs)return a(i.abs);D(e,"array")&&D(e&&e[0],"array")||(e=t.parsePathString(e));if(!e||!e.length)return[["M",0,0]];var s,o=[],u=0,l=0,h=0,f=0,c=0;if("M"==e[0][0]){u=+e[0][1];l=+e[0][2];h=u;f=l;c++;o[0]=["M",u,l]}for(var d,p,m=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),g=c,v=e.length;v>g;g++){o.push(d=[]);p=e[g];s=p[0];if(s!=s.toUpperCase()){d[0]=s.toUpperCase();switch(d[0]){case"A":d[1]=p[1];d[2]=p[2];d[3]=p[3];d[4]=p[4];d[5]=p[5];d[6]=+p[6]+u;d[7]=+p[7]+l;break;case"V":d[1]=+p[1]+l;break;case"H":d[1]=+p[1]+u;break;case"R":for(var _=[u,l].concat(p.slice(1)),y=2,x=_.length;x>y;y++){_[y]=+_[y]+u;_[++y]=+_[y]+l}o.pop();o=o.concat(N(_,m));break;case"O":o.pop();_=T(u,l,p[1],p[2]);_.push(_[0]);o=o.concat(_);break;case"U":o.pop();o=o.concat(T(u,l,p[1],p[2],p[3]));d=["U"].concat(o[o.length-1].slice(-2));break;case"M":h=+p[1]+u;f=+p[2]+l;default:for(y=1,x=p.length;x>y;y++)d[y]=+p[y]+(y%2?u:l)}}else if("R"==s){_=[u,l].concat(p.slice(1));o.pop();o=o.concat(N(_,m));d=["R"].concat(p.slice(-2))}else if("O"==s){o.pop();_=T(u,l,p[1],p[2]);_.push(_[0]);o=o.concat(_)}else if("U"==s){o.pop();o=o.concat(T(u,l,p[1],p[2],p[3]));d=["U"].concat(o[o.length-1].slice(-2))}else for(var b=0,w=p.length;w>b;b++)d[b]=p[b];s=s.toUpperCase();if("O"!=s)switch(d[0]){case"Z":u=+h;l=+f;break;case"H":u=d[1];break;case"V":l=d[1];break;case"M":h=d[d.length-2];f=d[d.length-1];default:u=d[d.length-2];l=d[d.length-1]}}o.toString=r;i.abs=a(o);return o}function C(t,e,n,i){return[t,e,n,i,n,i]}function P(t,e,n,i,r,a){var s=1/3,o=2/3;return[s*t+o*n,s*e+o*i,s*r+o*n,s*a+o*i,r,a]}function A(e,n,i,r,a,s,o,u,l,h){var f,c=120*z/180,d=z/180*(+a||0),p=[],m=t._.cacher(function(t,e,n){var i=t*B.cos(n)-e*B.sin(n),r=t*B.sin(n)+e*B.cos(n);return{x:i,y:r}});if(h){S=h[0];M=h[1];w=h[2];T=h[3]}else{f=m(e,n,-d);e=f.x;n=f.y;f=m(u,l,-d);u=f.x;l=f.y;var g=(B.cos(z/180*a),B.sin(z/180*a),(e-u)/2),v=(n-l)/2,_=g*g/(i*i)+v*v/(r*r);if(_>1){_=B.sqrt(_);i=_*i;r=_*r}var y=i*i,x=r*r,b=(s==o?-1:1)*B.sqrt(G((y*x-y*v*v-x*g*g)/(y*v*v+x*g*g))),w=b*i*v/r+(e+u)/2,T=b*-r*g/i+(n+l)/2,S=B.asin(((n-T)/r).toFixed(9)),M=B.asin(((l-T)/r).toFixed(9));S=w>e?z-S:S;M=w>u?z-M:M;0>S&&(S=2*z+S);0>M&&(M=2*z+M);o&&S>M&&(S-=2*z);!o&&M>S&&(M-=2*z)}var C=M-S;if(G(C)>c){var P=M,k=u,E=l;M=S+c*(o&&M>S?1:-1);u=w+i*B.cos(M);l=T+r*B.sin(M);p=A(u,l,i,r,a,0,o,k,E,[M,P,w,T])}C=M-S;var L=B.cos(S),N=B.sin(S),I=B.cos(M),D=B.sin(M),F=B.tan(C/4),R=4/3*i*F,O=4/3*r*F,q=[e,n],j=[e+R*N,n-O*L],X=[u+R*D,l-O*I],Z=[u,l];j[0]=2*q[0]-j[0];j[1]=2*q[1]-j[1];if(h)return[j,X,Z].concat(p);p=[j,X,Z].concat(p).join().split(",");for(var U=[],V=0,Y=p.length;Y>V;V++)U[V]=V%2?m(p[V-1],p[V],d).y:m(p[V],p[V+1],d).x;return U}function k(t,e,n,i,r,a,s,o){for(var u,l,h,f,c,d,p,m,g=[],v=[[],[]],_=0;2>_;++_){if(0==_){l=6*t-12*n+6*r;u=-3*t+9*n-9*r+3*s;h=3*n-3*t}else{l=6*e-12*i+6*a;u=-3*e+9*i-9*a+3*o;h=3*i-3*e}if(G(u)<1e-12){if(G(l)<1e-12)continue;f=-h/l;f>0&&1>f&&g.push(f)}else{p=l*l-4*h*u;m=B.sqrt(p);if(!(0>p)){c=(-l+m)/(2*u);c>0&&1>c&&g.push(c);d=(-l-m)/(2*u);d>0&&1>d&&g.push(d)}}}for(var y,x=g.length,b=x;x--;){f=g[x];y=1-f;v[0][x]=y*y*y*t+3*y*y*f*n+3*y*f*f*r+f*f*f*s;v[1][x]=y*y*y*e+3*y*y*f*i+3*y*f*f*a+f*f*f*o}v[0][b]=t;v[1][b]=e;v[0][b+1]=s;v[1][b+1]=o;v[0].length=v[1].length=b+2;return{min:{x:j.apply(0,v[0]),y:j.apply(0,v[1])},max:{x:X.apply(0,v[0]),y:X.apply(0,v[1])}}}function E(t,e){var i=!e&&n(t);if(!e&&i.curve)return a(i.curve);for(var r=M(t),s=e&&M(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=(function(t,e,n){var i,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null);switch(t[0]){case"M":e.X=t[1];e.Y=t[2];break;case"A":t=["C"].concat(A.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":if("C"==n||"S"==n){i=2*e.x-e.bx;r=2*e.y-e.by}else{i=e.x;r=e.y}t=["C",i,r].concat(t.slice(1));break;case"T":if("Q"==n||"T"==n){e.qx=2*e.x-e.qx;e.qy=2*e.y-e.qy}else{e.qx=e.x;e.qy=e.y}t=["C"].concat(P(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1];e.qy=t[2];t=["C"].concat(P(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(C(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(C(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(C(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(C(e.x,e.y,e.X,e.Y))}return t}),h=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;){c[e]="A";s&&(d[e]="A");t.splice(e++,0,["C"].concat(n.splice(0,6)))}t.splice(e,1);v=X(r.length,s&&s.length||0)}},f=function(t,e,n,i,a){if(t&&e&&"M"==t[a][0]&&"M"!=e[a][0]){e.splice(a,0,["M",i.x,i.y]);n.bx=0;n.by=0;n.x=t[a][1];n.y=t[a][2];v=X(r.length,s&&s.length||0)}},c=[],d=[],p="",m="",g=0,v=X(r.length,s&&s.length||0);v>g;g++){r[g]&&(p=r[g][0]);if("C"!=p){c[g]=p;g&&(m=c[g-1])}r[g]=l(r[g],o,m);"A"!=c[g]&&"C"==p&&(c[g]="C");h(r,g);if(s){s[g]&&(p=s[g][0]);if("C"!=p){d[g]=p;g&&(m=d[g-1])}s[g]=l(s[g],u,m);"A"!=d[g]&&"C"==p&&(d[g]="C");h(s,g)}f(r,s,o,u,g);f(s,r,u,o,g);var _=r[g],y=s&&s[g],x=_.length,b=s&&y.length;o.x=_[x-2];o.y=_[x-1];o.bx=q(_[x-4])||o.x;o.by=q(_[x-3])||o.y;u.bx=s&&(q(y[b-4])||u.x);u.by=s&&(q(y[b-3])||u.y);u.x=s&&y[b-2];u.y=s&&y[b-1]}s||(i.curve=a(r));return s?[r,s]:r}function L(t,e){if(!e)return t;var n,i,r,a,s,o,u;t=E(t);for(r=0,s=t.length;s>r;r++){u=t[r];for(a=1,o=u.length;o>a;a+=2){n=e.x(u[a],u[a+1]);i=e.y(u[a],u[a+1]);u[a]=n;u[a+1]=i}}return t}function N(t,e){for(var n=[],i=0,r=t.length;r-2*!e>i;i+=2){var a=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];if(e)if(i){if(r-4==i)a[3]={x:+t[0],y:+t[1]};else if(r-2==i){a[2]={x:+t[0],y:+t[1]};a[3]={x:+t[2],y:+t[3]}}}else a[0]={x:+t[r-2],y:+t[r-1]};else r-4==i?a[3]=a[2]:i||(a[0]={x:+t[i],y:+t[i+1]});n.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return n}var I=e.prototype,D=t.is,F=t._.clone,R="hasOwnProperty",O=/,?([a-z]),?/gi,q=parseFloat,B=Math,z=B.PI,j=B.min,X=B.max,Z=B.pow,G=B.abs,U=o(1),V=o(),Y=o(0,1),H=t._unit2px,Q={path:function(t){return t.attr("path")},circle:function(t){var e=H(t);return T(e.cx,e.cy,e.r)},ellipse:function(t){var e=H(t);return T(e.cx||0,e.cy||0,e.rx,e.ry)},rect:function(t){var e=H(t);return w(e.x||0,e.y||0,e.width,e.height,e.rx,e.ry)},image:function(t){var e=H(t);return w(e.x||0,e.y||0,e.width,e.height)},line:function(t){return"M"+[t.attr("x1")||0,t.attr("y1")||0,t.attr("x2"),t.attr("y2")]},polyline:function(t){return"M"+t.attr("points")},polygon:function(t){return"M"+t.attr("points")+"z"},deflt:function(t){var e=t.node.getBBox();return w(e.x,e.y,e.width,e.height)}};t.path=n;t.path.getTotalLength=U;t.path.getPointAtLength=V;t.path.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return Y(t,e).end;
var i=Y(t,n,1);return e?Y(i,e).end:i};I.getTotalLength=function(){return this.node.getTotalLength?this.node.getTotalLength():void 0};I.getPointAtLength=function(t){return V(this.attr("d"),t)};I.getSubpath=function(e,n){return t.path.getSubpath(this.attr("d"),e,n)};t._.box=i;t.path.findDotsAtSegment=u;t.path.bezierBBox=l;t.path.isPointInsideBBox=h;t.closest=function(e,n,r,a){for(var s=100,o=i(e-s/2,n-s/2,s,s),u=[],l=r[0].hasOwnProperty("x")?function(t){return{x:r[t].x,y:r[t].y}}:function(t){return{x:r[t],y:a[t]}},f=0;1e6>=s&&!f;){for(var c=0,d=r.length;d>c;c++){var p=l(c);if(h(o,p.x,p.y)){f++;u.push(p);break}}if(!f){s*=2;o=i(e-s/2,n-s/2,s,s)}}if(1e6!=s){var m,g=1/0;for(c=0,d=u.length;d>c;c++){var v=t.len(e,n,u[c].x,u[c].y);if(g>v){g=v;u[c].len=v;m=u[c]}}return m}};t.path.isBBoxIntersect=f;t.path.intersection=v;t.path.intersectionNumber=_;t.path.isPointInside=x;t.path.getBBox=b;t.path.get=Q;t.path.toRelative=S;t.path.toAbsolute=M;t.path.toCubic=E;t.path.map=L;t.path.toString=r;t.path.clone=a});i.plugin(function(t){var i=Math.max,r=Math.min,a=function(t){this.items=[];this.bindings={};this.length=0;this.type="set";if(t)for(var e=0,n=t.length;n>e;e++)if(t[e]){this[this.items.length]=this.items[this.items.length]=t[e];this.length++}},s=a.prototype;s.push=function(){for(var t,e,n=0,i=arguments.length;i>n;n++){t=arguments[n];if(t){e=this.items.length;this[e]=this.items[e]=t;this.length++}}return this};s.pop=function(){this.length&&delete this[this.length--];return this.items.pop()};s.forEach=function(t,e){for(var n=0,i=this.items.length;i>n;n++)if(t.call(e,this.items[n],n)===!1)return this;return this};s.animate=function(i,r,a,s){if("function"==typeof a&&!a.length){s=a;a=n.linear}if(i instanceof t._.Animation){s=i.callback;a=i.easing;r=a.dur;i=i.attr}var o=arguments;if(t.is(i,"array")&&t.is(o[o.length-1],"array"))var u=!0;var l,h=function(){l?this.b=l:l=this.b},f=0,c=this,d=s&&function(){++f==c.length&&s.call(this)};return this.forEach(function(t,n){e.once("snap.animcreated."+t.id,h);u?o[n]&&t.animate.apply(t,o[n]):t.animate(i,r,a,d)})};s.remove=function(){for(;this.length;)this.pop().remove();return this};s.bind=function(t,e,n){var i={};if("function"==typeof e)this.bindings[t]=e;else{var r=n||t;this.bindings[t]=function(t){i[r]=t;e.attr(i)}}return this};s.attr=function(t){var e={};for(var n in t)this.bindings[n]?this.bindings[n](t[n]):e[n]=t[n];for(var i=0,r=this.items.length;r>i;i++)this.items[i].attr(e);return this};s.clear=function(){for(;this.length;)this.pop()};s.splice=function(t,e){t=0>t?i(this.length+t,0):t;e=i(0,r(this.length-t,e));var n,s=[],o=[],u=[];for(n=2;n<arguments.length;n++)u.push(arguments[n]);for(n=0;e>n;n++)o.push(this[t+n]);for(;n<this.length-t;n++)s.push(this[t+n]);var l=u.length;for(n=0;n<l+s.length;n++)this.items[t+n]=this[t+n]=l>n?u[n]:s[n-l];n=this.items.length=this.length-=e-l;for(;this[n];)delete this[n++];return new a(o)};s.exclude=function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]==t){this.splice(e,1);return!0}return!1};s.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this};s.getBBox=function(){for(var t=[],e=[],n=[],a=[],s=this.items.length;s--;)if(!this.items[s].removed){var o=this.items[s].getBBox();t.push(o.x);e.push(o.y);n.push(o.x+o.width);a.push(o.y+o.height)}t=r.apply(0,t);e=r.apply(0,e);n=i.apply(0,n);a=i.apply(0,a);return{x:t,y:e,x2:n,y2:a,width:n-t,height:a-e,cx:t+(n-t)/2,cy:e+(a-e)/2}};s.clone=function(t){t=new a;for(var e=0,n=this.items.length;n>e;e++)t.push(this.items[e].clone());return t};s.toString=function(){return"Snap‘s set"};s.type="set";t.Set=a;t.set=function(){var t=new a;arguments.length&&t.push.apply(t,Array.prototype.slice.call(arguments,0));return t}});i.plugin(function(t,n){function i(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}}function r(e,n,r){n=m(n).replace(/\.{3}|\u2026/g,e);e=t.parseTransformString(e)||[];n=t.parseTransformString(n)||[];for(var a,s,o,u,f=Math.max(e.length,n.length),c=[],d=[],p=0;f>p;p++){o=e[p]||i(n[p]);u=n[p]||i(o);if(o[0]!=u[0]||"r"==o[0].toLowerCase()&&(o[2]!=u[2]||o[3]!=u[3])||"s"==o[0].toLowerCase()&&(o[3]!=u[3]||o[4]!=u[4])){e=t._.transform2matrix(e,r());n=t._.transform2matrix(n,r());c=[["m",e.a,e.b,e.c,e.d,e.e,e.f]];d=[["m",n.a,n.b,n.c,n.d,n.e,n.f]];break}c[p]=[];d[p]=[];for(a=0,s=Math.max(o.length,u.length);s>a;a++){a in o&&(c[p][a]=o[a]);a in u&&(d[p][a]=u[a])}}return{from:h(c),to:h(d),f:l(c)}}function a(t){return t}function s(t){return function(e){return+e.toFixed(3)+t}}function o(t){return t.join(" ")}function u(e){return t.rgb(e[0],e[1],e[2])}function l(t){var e,n,i,r,a,s,o=0,u=[];for(e=0,n=t.length;n>e;e++){a="[";s=['"'+t[e][0]+'"'];for(i=1,r=t[e].length;r>i;i++)s[i]="val["+o++ +"]";a+=s+"]";u[e]=a}return Function("val","return Snap.path.toString.call(["+u+"])")}function h(t){for(var e=[],n=0,i=t.length;i>n;n++)for(var r=1,a=t[n].length;a>r;r++)e.push(t[n][r]);return e}function f(t){return isFinite(parseFloat(t))}function c(e,n){return t.is(e,"array")&&t.is(n,"array")?e.toString()==n.toString():!1}var d={},p=/[a-z]+$/i,m=String;d.stroke=d.fill="colour";n.prototype.equal=function(t,n){return e("snap.util.equal",this,t,n).firstDefined()};e.on("snap.util.equal",function(e,n){var i,g,v=m(this.attr(e)||""),_=this;if(f(v)&&f(n))return{from:parseFloat(v),to:parseFloat(n),f:a};if("colour"==d[e]){i=t.color(v);g=t.color(n);return{from:[i.r,i.g,i.b,i.opacity],to:[g.r,g.g,g.b,g.opacity],f:u}}if("viewBox"==e){i=this.attr(e).vb.split(" ").map(Number);g=n.split(" ").map(Number);return{from:i,to:g,f:o}}if("transform"==e||"gradientTransform"==e||"patternTransform"==e){n instanceof t.Matrix&&(n=n.toTransformString());t._.rgTransform.test(n)||(n=t._.svgTransform2string(n));return r(v,n,function(){return _.getBBox(1)})}if("d"==e||"path"==e){i=t.path.toCubic(v,n);return{from:h(i[0]),to:h(i[1]),f:l(i[0])}}if("points"==e){i=m(v).split(t._.separator);g=m(n).split(t._.separator);return{from:i,to:g,f:function(t){return t}}}var y=v.match(p),x=m(n).match(p);return y&&c(y,x)?{from:parseFloat(v),to:parseFloat(n),f:s(y)}:{from:this.asPX(e),to:this.asPX(e,n),f:a}})});i.plugin(function(t,n,i,r){for(var a=n.prototype,s="hasOwnProperty",o=("createTouch"in r.doc),u=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],l={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},h=(function(t,e){var n="y"==t?"scrollTop":"scrollLeft",i=e&&e.node?e.node.ownerDocument:r.doc;return i[n in i.documentElement?"documentElement":"body"][n]}),f=function(){return this.originalEvent.preventDefault()},c=function(){return this.originalEvent.stopPropagation()},d=function(t,e,n,i){var r=o&&l[e]?l[e]:e,a=function(r){var a=h("y",i),u=h("x",i);if(o&&l[s](e))for(var d=0,p=r.targetTouches&&r.targetTouches.length;p>d;d++)if(r.targetTouches[d].target==t||t.contains(r.targetTouches[d].target)){var m=r;r=r.targetTouches[d];r.originalEvent=m;r.preventDefault=f;r.stopPropagation=c;break}var g=r.clientX+u,v=r.clientY+a;return n.call(i,r,g,v)};e!==r&&t.addEventListener(e,a,!1);t.addEventListener(r,a,!1);return function(){e!==r&&t.removeEventListener(e,a,!1);t.removeEventListener(r,a,!1);return!0}},p=[],m=function(t){for(var n,i=t.clientX,r=t.clientY,a=h("y"),s=h("x"),u=p.length;u--;){n=p[u];if(o)for(var l,f=t.touches&&t.touches.length;f--;){l=t.touches[f];if(l.identifier==n.el._drag.id||n.el.node.contains(l.target)){i=l.clientX;r=l.clientY;(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();{var c=n.el.node;c.nextSibling,c.parentNode,c.style.display}i+=s;r+=a;e("snap.drag.move."+n.el.id,n.move_scope||n.el,i-n.el._drag.x,r-n.el._drag.y,i,r,t)}},g=function(n){t.unmousemove(m).unmouseup(g);for(var i,r=p.length;r--;){i=p[r];i.el._drag={};e("snap.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,n);e.off("snap.drag.*."+i.el.id)}p=[]},v=u.length;v--;)!function(e){t[e]=a[e]=function(n,i){if(t.is(n,"function")){this.events=this.events||[];this.events.push({name:e,f:n,unbind:d(this.node||document,e,n,i||this)})}else for(var r=0,a=this.events.length;a>r;r++)if(this.events[r].name==e)try{this.events[r].f.call(this)}catch(s){}return this};t["un"+e]=a["un"+e]=function(t){for(var n=this.events||[],i=n.length;i--;)if(n[i].name==e&&(n[i].f==t||!t)){n[i].unbind();n.splice(i,1);!n.length&&delete this.events;return this}return this}}(u[v]);a.hover=function(t,e,n,i){return this.mouseover(t,n).mouseout(e,i||n)};a.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var _=[];a.drag=function(n,i,r,a,s,o){function u(u,l,f){(u.originalEvent||u).preventDefault();h._drag.x=l;h._drag.y=f;h._drag.id=u.identifier;!p.length&&t.mousemove(m).mouseup(g);p.push({el:h,move_scope:a,start_scope:s,end_scope:o});i&&e.on("snap.drag.start."+h.id,i);n&&e.on("snap.drag.move."+h.id,n);r&&e.on("snap.drag.end."+h.id,r);e("snap.drag.start."+h.id,s||a||h,l,f,u)}function l(t,n,i){e("snap.draginit."+h.id,h,t,n,i)}var h=this;if(!arguments.length){var f;return h.drag(function(t,e){this.attr({transform:f+(f?"T":"t")+[t,e]})},function(){f=this.transform().local})}e.on("snap.draginit."+h.id,u);h._drag={};_.push({el:h,start:u,init:l});h.mousedown(l);return h};a.undrag=function(){for(var n=_.length;n--;)if(_[n].el==this){this.unmousedown(_[n].init);_.splice(n,1);e.unbind("snap.drag.*."+this.id);e.unbind("snap.draginit."+this.id)}!_.length&&t.unmousemove(m).unmouseup(g);return this}});i.plugin(function(t,n,i){var r=(n.prototype,i.prototype),a=/^\s*url\((.+)\)/,s=String,o=t._.$;t.filter={};r.filter=function(e){var i=this;"svg"!=i.type&&(i=i.paper);var r=t.parse(s(e)),a=t._.id(),u=(i.node.offsetWidth,i.node.offsetHeight,o("filter"));o(u,{id:a,filterUnits:"userSpaceOnUse"});u.appendChild(r.node);i.defs.appendChild(u);return new n(u)};e.on("snap.util.getattr.filter",function(){e.stop();var n=o(this.node,"filter");if(n){var i=s(n).match(a);return i&&t.select(i[1])}});e.on("snap.util.attr.filter",function(i){if(i instanceof n&&"filter"==i.type){e.stop();var r=i.node.id;if(!r){o(i.node,{id:i.id});r=i.id}o(this.node,{filter:t.url(r)})}if(!i||"none"==i){e.stop();this.node.removeAttribute("filter")}});t.filter.blur=function(e,n){null==e&&(e=2);var i=null==n?e:[e,n];return t.format('<feGaussianBlur stdDeviation="{def}"/>',{def:i})};t.filter.blur.toString=function(){return this()};t.filter.shadow=function(e,n,i,r,a){if("string"==typeof i){r=i;a=r;i=4}if("string"!=typeof r){a=r;r="#000"}r=r||"#000";null==i&&(i=4);null==a&&(a=1);if(null==e){e=0;n=2}null==n&&(n=e);r=t.color(r);return t.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:r,dx:e,dy:n,blur:i,opacity:a})};t.filter.shadow.toString=function(){return this()};t.filter.grayscale=function(e){null==e&&(e=1);return t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})};t.filter.grayscale.toString=function(){return this()};t.filter.sepia=function(e){null==e&&(e=1);return t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})};t.filter.sepia.toString=function(){return this()};t.filter.saturate=function(e){null==e&&(e=1);return t.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-e})};t.filter.saturate.toString=function(){return this()};t.filter.hueRotate=function(e){e=e||0;return t.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:e})};t.filter.hueRotate.toString=function(){return this()};t.filter.invert=function(e){null==e&&(e=1);return t.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:e,amount2:1-e})};t.filter.invert.toString=function(){return this()};t.filter.brightness=function(e){null==e&&(e=1);return t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:e})};t.filter.brightness.toString=function(){return this()};t.filter.contrast=function(e){null==e&&(e=1);return t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:e,amount2:.5-e/2})};t.filter.contrast.toString=function(){return this()}});i.plugin(function(t,e){var n=t._.box,i=t.is,r=/^[^a-z]*([tbmlrc])/i,a=function(){return"T"+this.dx+","+this.dy};e.prototype.getAlign=function(t,e){if(null==e&&i(t,"string")){e=t;t=null}t=t||this.paper;var s=t.getBBox?t.getBBox():n(t),o=this.getBBox(),u={};e=e&&e.match(r);e=e?e[1].toLowerCase():"c";switch(e){case"t":u.dx=0;u.dy=s.y-o.y;break;case"b":u.dx=0;u.dy=s.y2-o.y2;break;case"m":u.dx=0;u.dy=s.cy-o.cy;break;case"l":u.dx=s.x-o.x;u.dy=0;break;case"r":u.dx=s.x2-o.x2;u.dy=0;break;default:u.dx=s.cx-o.cx;u.dy=0}u.toString=a;return u};e.prototype.align=function(t,e){return this.transform("..."+this.getAlign(t,e))}});return i});define("app/Stage",["require","snap","./Constants"],function(t){var e=t("snap"),n=t("./Constants"),i=e(n.DIMENSIONS.SIZE,n.DIMENSIONS.SIZE);i.prependTo(document.getElementById("place"));return i});define("app/PathParticle",["require","./Constants","./Stage","snap"],function(t){"use strict";function e(t,e){this.svg=a.circle(0,0,i);this.svg.attr("fill",t);this.color=t;this.t=e;this.x=0;this.y=0;this.z=0;this.transform=new s.Matrix;this.update()}function n(){this.transform.a=this.transform.d=1;this.transform.b=this.transform.c=this.transform.e=this.transform.f=0;this.transform.translate(this.x,this.y);var t=this.z/r+1;this.transform.scale(t,t);this.svg.transform(this.transform)}var i=2,r=50,a=(t("./Constants"),t("./Stage")),s=t("snap");e.prototype.update=n;return e});!function(t){"use strict";var e={};if("undefined"==typeof exports)if("function"==typeof define&&"object"==typeof define.amd&&define.amd){e.exports={};define("glMatrix",[],function(){return e.exports})}else e.exports="undefined"!=typeof window?window:t;else e.exports=exports;!function(t){if(!e)var e=1e-6;if(!n)var n="undefined"!=typeof Float32Array?Float32Array:Array;if(!i)var i=Math.random;var r={};r.setMatrixArrayType=function(t){n=t};"undefined"!=typeof t&&(t.glMatrix=r);var a=Math.PI/180;r.toRadian=function(t){return t*a};var s={};s.create=function(){var t=new n(2);t[0]=0;t[1]=0;return t};s.clone=function(t){var e=new n(2);e[0]=t[0];e[1]=t[1];return e};s.fromValues=function(t,e){var i=new n(2);i[0]=t;i[1]=e;return i};s.copy=function(t,e){t[0]=e[0];t[1]=e[1];return t};s.set=function(t,e,n){t[0]=e;t[1]=n;return t};s.add=function(t,e,n){t[0]=e[0]+n[0];t[1]=e[1]+n[1];return t};s.subtract=function(t,e,n){t[0]=e[0]-n[0];t[1]=e[1]-n[1];return t};s.sub=s.subtract;s.multiply=function(t,e,n){t[0]=e[0]*n[0];t[1]=e[1]*n[1];return t};s.mul=s.multiply;s.divide=function(t,e,n){t[0]=e[0]/n[0];t[1]=e[1]/n[1];return t};s.div=s.divide;s.min=function(t,e,n){t[0]=Math.min(e[0],n[0]);t[1]=Math.min(e[1],n[1]);return t};s.max=function(t,e,n){t[0]=Math.max(e[0],n[0]);t[1]=Math.max(e[1],n[1]);return t};s.scale=function(t,e,n){t[0]=e[0]*n;t[1]=e[1]*n;return t};s.scaleAndAdd=function(t,e,n,i){t[0]=e[0]+n[0]*i;t[1]=e[1]+n[1]*i;return t};s.distance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)};s.dist=s.distance;s.squaredDistance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i};s.sqrDist=s.squaredDistance;s.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)};s.len=s.length;s.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n};s.sqrLen=s.squaredLength;s.negate=function(t,e){t[0]=-e[0];t[1]=-e[1];return t};s.normalize=function(t,e){var n=e[0],i=e[1],r=n*n+i*i;if(r>0){r=1/Math.sqrt(r);t[0]=e[0]*r;t[1]=e[1]*r}return t};s.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]};s.cross=function(t,e,n){var i=e[0]*n[1]-e[1]*n[0];t[0]=t[1]=0;t[2]=i;return t};s.lerp=function(t,e,n,i){var r=e[0],a=e[1];t[0]=r+i*(n[0]-r);t[1]=a+i*(n[1]-a);return t};s.random=function(t,e){e=e||1;var n=2*i()*Math.PI;t[0]=Math.cos(n)*e;t[1]=Math.sin(n)*e;return t};s.transformMat2=function(t,e,n){var i=e[0],r=e[1];t[0]=n[0]*i+n[2]*r;t[1]=n[1]*i+n[3]*r;return t};s.transformMat2d=function(t,e,n){var i=e[0],r=e[1];t[0]=n[0]*i+n[2]*r+n[4];t[1]=n[1]*i+n[3]*r+n[5];return t};s.transformMat3=function(t,e,n){var i=e[0],r=e[1];t[0]=n[0]*i+n[3]*r+n[6];t[1]=n[1]*i+n[4]*r+n[7];return t};s.transformMat4=function(t,e,n){var i=e[0],r=e[1];t[0]=n[0]*i+n[4]*r+n[12];t[1]=n[1]*i+n[5]*r+n[13];return t};s.forEach=function(){var t=s.create();return function(e,n,i,r,a,s){var o,u;n||(n=2);i||(i=0);u=r?Math.min(r*n+i,e.length):e.length;for(o=i;u>o;o+=n){t[0]=e[o];t[1]=e[o+1];a(t,t,s);e[o]=t[0];e[o+1]=t[1]}return e}}();s.str=function(t){return"vec2("+t[0]+", "+t[1]+")"};"undefined"!=typeof t&&(t.vec2=s);var o={};o.create=function(){var t=new n(3);t[0]=0;t[1]=0;t[2]=0;return t};o.clone=function(t){var e=new n(3);e[0]=t[0];e[1]=t[1];e[2]=t[2];return e};o.fromValues=function(t,e,i){var r=new n(3);r[0]=t;r[1]=e;r[2]=i;return r};o.copy=function(t,e){t[0]=e[0];t[1]=e[1];t[2]=e[2];return t};o.set=function(t,e,n,i){t[0]=e;t[1]=n;t[2]=i;return t};o.add=function(t,e,n){t[0]=e[0]+n[0];t[1]=e[1]+n[1];t[2]=e[2]+n[2];return t};o.subtract=function(t,e,n){t[0]=e[0]-n[0];t[1]=e[1]-n[1];t[2]=e[2]-n[2];return t};o.sub=o.subtract;o.multiply=function(t,e,n){t[0]=e[0]*n[0];t[1]=e[1]*n[1];t[2]=e[2]*n[2];return t};o.mul=o.multiply;o.divide=function(t,e,n){t[0]=e[0]/n[0];t[1]=e[1]/n[1];t[2]=e[2]/n[2];return t};o.div=o.divide;o.min=function(t,e,n){t[0]=Math.min(e[0],n[0]);t[1]=Math.min(e[1],n[1]);t[2]=Math.min(e[2],n[2]);return t};o.max=function(t,e,n){t[0]=Math.max(e[0],n[0]);t[1]=Math.max(e[1],n[1]);t[2]=Math.max(e[2],n[2]);return t};o.scale=function(t,e,n){t[0]=e[0]*n;t[1]=e[1]*n;t[2]=e[2]*n;return t};o.scaleAndAdd=function(t,e,n,i){t[0]=e[0]+n[0]*i;t[1]=e[1]+n[1]*i;t[2]=e[2]+n[2]*i;return t};o.distance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(n*n+i*i+r*r)};o.dist=o.distance;o.squaredDistance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r};o.sqrDist=o.squaredDistance;o.length=function(t){var e=t[0],n=t[1],i=t[2];return Math.sqrt(e*e+n*n+i*i)};o.len=o.length;o.squaredLength=function(t){var e=t[0],n=t[1],i=t[2];return e*e+n*n+i*i};o.sqrLen=o.squaredLength;o.negate=function(t,e){t[0]=-e[0];t[1]=-e[1];t[2]=-e[2];return t};o.normalize=function(t,e){var n=e[0],i=e[1],r=e[2],a=n*n+i*i+r*r;if(a>0){a=1/Math.sqrt(a);t[0]=e[0]*a;t[1]=e[1]*a;t[2]=e[2]*a}return t};o.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]};o.cross=function(t,e,n){var i=e[0],r=e[1],a=e[2],s=n[0],o=n[1],u=n[2];t[0]=r*u-a*o;t[1]=a*s-i*u;t[2]=i*o-r*s;return t};o.lerp=function(t,e,n,i){var r=e[0],a=e[1],s=e[2];t[0]=r+i*(n[0]-r);t[1]=a+i*(n[1]-a);t[2]=s+i*(n[2]-s);return t};o.random=function(t,e){e=e||1;var n=2*i()*Math.PI,r=2*i()-1,a=Math.sqrt(1-r*r)*e;t[0]=Math.cos(n)*a;t[1]=Math.sin(n)*a;t[2]=r*e;return t};o.transformMat4=function(t,e,n){var i=e[0],r=e[1],a=e[2];t[0]=n[0]*i+n[4]*r+n[8]*a+n[12];t[1]=n[1]*i+n[5]*r+n[9]*a+n[13];t[2]=n[2]*i+n[6]*r+n[10]*a+n[14];return t};o.transformMat3=function(t,e,n){var i=e[0],r=e[1],a=e[2];t[0]=i*n[0]+r*n[3]+a*n[6];t[1]=i*n[1]+r*n[4]+a*n[7];t[2]=i*n[2]+r*n[5]+a*n[8];return t};o.transformQuat=function(t,e,n){var i=e[0],r=e[1],a=e[2],s=n[0],o=n[1],u=n[2],l=n[3],h=l*i+o*a-u*r,f=l*r+u*i-s*a,c=l*a+s*r-o*i,d=-s*i-o*r-u*a;t[0]=h*l+d*-s+f*-u-c*-o;t[1]=f*l+d*-o+c*-s-h*-u;t[2]=c*l+d*-u+h*-o-f*-s;return t};o.rotateX=function(t,e,n,i){var r=[],a=[];r[0]=e[0]-n[0];r[1]=e[1]-n[1];r[2]=e[2]-n[2];a[0]=r[0];a[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i);a[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i);t[0]=a[0]+n[0];t[1]=a[1]+n[1];t[2]=a[2]+n[2];return t};o.rotateY=function(t,e,n,i){var r=[],a=[];r[0]=e[0]-n[0];r[1]=e[1]-n[1];r[2]=e[2]-n[2];a[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i);a[1]=r[1];a[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i);t[0]=a[0]+n[0];t[1]=a[1]+n[1];t[2]=a[2]+n[2];return t};o.rotateZ=function(t,e,n,i){var r=[],a=[];r[0]=e[0]-n[0];r[1]=e[1]-n[1];r[2]=e[2]-n[2];a[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i);a[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i);a[2]=r[2];t[0]=a[0]+n[0];t[1]=a[1]+n[1];t[2]=a[2]+n[2];return t};o.forEach=function(){var t=o.create();return function(e,n,i,r,a,s){var o,u;n||(n=3);i||(i=0);u=r?Math.min(r*n+i,e.length):e.length;for(o=i;u>o;o+=n){t[0]=e[o];t[1]=e[o+1];t[2]=e[o+2];a(t,t,s);e[o]=t[0];e[o+1]=t[1];e[o+2]=t[2]}return e}}();o.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"};"undefined"!=typeof t&&(t.vec3=o);var u={};u.create=function(){var t=new n(4);t[0]=0;t[1]=0;t[2]=0;t[3]=0;return t};u.clone=function(t){var e=new n(4);e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];return e};u.fromValues=function(t,e,i,r){var a=new n(4);a[0]=t;a[1]=e;a[2]=i;a[3]=r;return a};u.copy=function(t,e){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];return t};u.set=function(t,e,n,i,r){t[0]=e;t[1]=n;t[2]=i;t[3]=r;return t};u.add=function(t,e,n){t[0]=e[0]+n[0];t[1]=e[1]+n[1];t[2]=e[2]+n[2];t[3]=e[3]+n[3];return t};u.subtract=function(t,e,n){t[0]=e[0]-n[0];t[1]=e[1]-n[1];t[2]=e[2]-n[2];t[3]=e[3]-n[3];return t};u.sub=u.subtract;u.multiply=function(t,e,n){t[0]=e[0]*n[0];t[1]=e[1]*n[1];t[2]=e[2]*n[2];t[3]=e[3]*n[3];return t};u.mul=u.multiply;u.divide=function(t,e,n){t[0]=e[0]/n[0];t[1]=e[1]/n[1];t[2]=e[2]/n[2];t[3]=e[3]/n[3];return t};u.div=u.divide;u.min=function(t,e,n){t[0]=Math.min(e[0],n[0]);t[1]=Math.min(e[1],n[1]);t[2]=Math.min(e[2],n[2]);t[3]=Math.min(e[3],n[3]);return t};u.max=function(t,e,n){t[0]=Math.max(e[0],n[0]);t[1]=Math.max(e[1],n[1]);t[2]=Math.max(e[2],n[2]);t[3]=Math.max(e[3],n[3]);return t};u.scale=function(t,e,n){t[0]=e[0]*n;t[1]=e[1]*n;t[2]=e[2]*n;t[3]=e[3]*n;return t};u.scaleAndAdd=function(t,e,n,i){t[0]=e[0]+n[0]*i;t[1]=e[1]+n[1]*i;t[2]=e[2]+n[2]*i;t[3]=e[3]+n[3]*i;return t};u.distance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(n*n+i*i+r*r+a*a)};u.dist=u.distance;u.squaredDistance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2],a=e[3]-t[3];return n*n+i*i+r*r+a*a};u.sqrDist=u.squaredDistance;u.length=function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return Math.sqrt(e*e+n*n+i*i+r*r)};u.len=u.length;u.squaredLength=function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return e*e+n*n+i*i+r*r};u.sqrLen=u.squaredLength;u.negate=function(t,e){t[0]=-e[0];t[1]=-e[1];t[2]=-e[2];t[3]=-e[3];return t};u.normalize=function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],s=n*n+i*i+r*r+a*a;if(s>0){s=1/Math.sqrt(s);t[0]=e[0]*s;t[1]=e[1]*s;t[2]=e[2]*s;t[3]=e[3]*s}return t};u.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]};u.lerp=function(t,e,n,i){var r=e[0],a=e[1],s=e[2],o=e[3];t[0]=r+i*(n[0]-r);t[1]=a+i*(n[1]-a);t[2]=s+i*(n[2]-s);t[3]=o+i*(n[3]-o);return t};u.random=function(t,e){e=e||1;t[0]=i();t[1]=i();t[2]=i();t[3]=i();u.normalize(t,t);u.scale(t,t,e);return t};u.transformMat4=function(t,e,n){var i=e[0],r=e[1],a=e[2],s=e[3];t[0]=n[0]*i+n[4]*r+n[8]*a+n[12]*s;t[1]=n[1]*i+n[5]*r+n[9]*a+n[13]*s;t[2]=n[2]*i+n[6]*r+n[10]*a+n[14]*s;t[3]=n[3]*i+n[7]*r+n[11]*a+n[15]*s;return t};u.transformQuat=function(t,e,n){var i=e[0],r=e[1],a=e[2],s=n[0],o=n[1],u=n[2],l=n[3],h=l*i+o*a-u*r,f=l*r+u*i-s*a,c=l*a+s*r-o*i,d=-s*i-o*r-u*a;t[0]=h*l+d*-s+f*-u-c*-o;t[1]=f*l+d*-o+c*-s-h*-u;t[2]=c*l+d*-u+h*-o-f*-s;return t};u.forEach=function(){var t=u.create();return function(e,n,i,r,a,s){var o,u;n||(n=4);i||(i=0);u=r?Math.min(r*n+i,e.length):e.length;for(o=i;u>o;o+=n){t[0]=e[o];t[1]=e[o+1];t[2]=e[o+2];t[3]=e[o+3];a(t,t,s);e[o]=t[0];e[o+1]=t[1];e[o+2]=t[2];e[o+3]=t[3]}return e}}();u.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"};"undefined"!=typeof t&&(t.vec4=u);var l={};l.create=function(){var t=new n(4);t[0]=1;t[1]=0;t[2]=0;t[3]=1;return t};l.clone=function(t){var e=new n(4);e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];return e};l.copy=function(t,e){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];return t};l.identity=function(t){t[0]=1;t[1]=0;t[2]=0;t[3]=1;return t};l.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2];t[2]=n}else{t[0]=e[0];t[1]=e[2];t[2]=e[1];t[3]=e[3]}return t};l.invert=function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],s=n*a-r*i;if(!s)return null;s=1/s;t[0]=a*s;t[1]=-i*s;t[2]=-r*s;t[3]=n*s;return t};l.adjoint=function(t,e){var n=e[0];t[0]=e[3];t[1]=-e[1];t[2]=-e[2];t[3]=n;return t};l.determinant=function(t){return t[0]*t[3]-t[2]*t[1]};l.multiply=function(t,e,n){var i=e[0],r=e[1],a=e[2],s=e[3],o=n[0],u=n[1],l=n[2],h=n[3];t[0]=i*o+a*u;t[1]=r*o+s*u;t[2]=i*l+a*h;t[3]=r*l+s*h;return t};l.mul=l.multiply;l.rotate=function(t,e,n){var i=e[0],r=e[1],a=e[2],s=e[3],o=Math.sin(n),u=Math.cos(n);t[0]=i*u+a*o;t[1]=r*u+s*o;t[2]=i*-o+a*u;t[3]=r*-o+s*u;return t};l.scale=function(t,e,n){var i=e[0],r=e[1],a=e[2],s=e[3],o=n[0],u=n[1];t[0]=i*o;t[1]=r*o;t[2]=a*u;t[3]=s*u;return t};l.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"};l.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))};l.LDU=function(t,e,n,i){t[2]=i[2]/i[0];n[0]=i[0];n[1]=i[1];n[3]=i[3]-t[2]*n[1];return[t,e,n]};"undefined"!=typeof t&&(t.mat2=l);var h={};h.create=function(){var t=new n(6);t[0]=1;t[1]=0;t[2]=0;t[3]=1;t[4]=0;t[5]=0;return t};h.clone=function(t){var e=new n(6);e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];e[4]=t[4];e[5]=t[5];return e};h.copy=function(t,e){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];t[4]=e[4];t[5]=e[5];return t};h.identity=function(t){t[0]=1;t[1]=0;t[2]=0;t[3]=1;t[4]=0;t[5]=0;return t};h.invert=function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],u=n*a-i*r;if(!u)return null;u=1/u;t[0]=a*u;t[1]=-i*u;t[2]=-r*u;t[3]=n*u;t[4]=(r*o-a*s)*u;t[5]=(i*s-n*o)*u;return t};h.determinant=function(t){return t[0]*t[3]-t[1]*t[2]};h.multiply=function(t,e,n){var i=e[0],r=e[1],a=e[2],s=e[3],o=e[4],u=e[5],l=n[0],h=n[1],f=n[2],c=n[3],d=n[4],p=n[5];t[0]=i*l+a*h;t[1]=r*l+s*h;t[2]=i*f+a*c;t[3]=r*f+s*c;t[4]=i*d+a*p+o;t[5]=r*d+s*p+u;return t};h.mul=h.multiply;h.rotate=function(t,e,n){var i=e[0],r=e[1],a=e[2],s=e[3],o=e[4],u=e[5],l=Math.sin(n),h=Math.cos(n);t[0]=i*h+a*l;t[1]=r*h+s*l;t[2]=i*-l+a*h;t[3]=r*-l+s*h;t[4]=o;t[5]=u;return t};h.scale=function(t,e,n){var i=e[0],r=e[1],a=e[2],s=e[3],o=e[4],u=e[5],l=n[0],h=n[1];t[0]=i*l;t[1]=r*l;t[2]=a*h;t[3]=s*h;t[4]=o;t[5]=u;return t};h.translate=function(t,e,n){var i=e[0],r=e[1],a=e[2],s=e[3],o=e[4],u=e[5],l=n[0],h=n[1];t[0]=i;t[1]=r;t[2]=a;t[3]=s;t[4]=i*l+a*h+o;t[5]=r*l+s*h+u;return t};h.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"};h.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)};"undefined"!=typeof t&&(t.mat2d=h);var f={};f.create=function(){var t=new n(9);t[0]=1;t[1]=0;t[2]=0;t[3]=0;t[4]=1;t[5]=0;t[6]=0;t[7]=0;t[8]=1;return t};f.fromMat4=function(t,e){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[4];t[4]=e[5];t[5]=e[6];t[6]=e[8];t[7]=e[9];t[8]=e[10];return t};f.clone=function(t){var e=new n(9);e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];e[4]=t[4];e[5]=t[5];e[6]=t[6];e[7]=t[7];e[8]=t[8];return e};f.copy=function(t,e){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];t[4]=e[4];t[5]=e[5];t[6]=e[6];t[7]=e[7];t[8]=e[8];return t};f.identity=function(t){t[0]=1;t[1]=0;t[2]=0;t[3]=0;t[4]=1;t[5]=0;t[6]=0;t[7]=0;t[8]=1;return t};f.transpose=function(t,e){if(t===e){var n=e[1],i=e[2],r=e[5];t[1]=e[3];t[2]=e[6];t[3]=n;t[5]=e[7];t[6]=i;t[7]=r}else{t[0]=e[0];t[1]=e[3];t[2]=e[6];t[3]=e[1];t[4]=e[4];t[5]=e[7];t[6]=e[2];t[7]=e[5];t[8]=e[8]}return t};f.invert=function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],u=e[6],l=e[7],h=e[8],f=h*s-o*l,c=-h*a+o*u,d=l*a-s*u,p=n*f+i*c+r*d;if(!p)return null;p=1/p;t[0]=f*p;t[1]=(-h*i+r*l)*p;t[2]=(o*i-r*s)*p;t[3]=c*p;t[4]=(h*n-r*u)*p;t[5]=(-o*n+r*a)*p;t[6]=d*p;t[7]=(-l*n+i*u)*p;t[8]=(s*n-i*a)*p;return t};f.adjoint=function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],u=e[6],l=e[7],h=e[8];t[0]=s*h-o*l;t[1]=r*l-i*h;t[2]=i*o-r*s;t[3]=o*u-a*h;t[4]=n*h-r*u;t[5]=r*a-n*o;t[6]=a*l-s*u;t[7]=i*u-n*l;t[8]=n*s-i*a;return t};f.determinant=function(t){var e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],s=t[5],o=t[6],u=t[7],l=t[8];return e*(l*a-s*u)+n*(-l*r+s*o)+i*(u*r-a*o)};f.multiply=function(t,e,n){var i=e[0],r=e[1],a=e[2],s=e[3],o=e[4],u=e[5],l=e[6],h=e[7],f=e[8],c=n[0],d=n[1],p=n[2],m=n[3],g=n[4],v=n[5],_=n[6],y=n[7],x=n[8];t[0]=c*i+d*s+p*l;t[1]=c*r+d*o+p*h;t[2]=c*a+d*u+p*f;t[3]=m*i+g*s+v*l;t[4]=m*r+g*o+v*h;t[5]=m*a+g*u+v*f;t[6]=_*i+y*s+x*l;t[7]=_*r+y*o+x*h;t[8]=_*a+y*u+x*f;return t};f.mul=f.multiply;f.translate=function(t,e,n){var i=e[0],r=e[1],a=e[2],s=e[3],o=e[4],u=e[5],l=e[6],h=e[7],f=e[8],c=n[0],d=n[1];t[0]=i;t[1]=r;t[2]=a;t[3]=s;t[4]=o;t[5]=u;t[6]=c*i+d*s+l;t[7]=c*r+d*o+h;t[8]=c*a+d*u+f;return t};f.rotate=function(t,e,n){var i=e[0],r=e[1],a=e[2],s=e[3],o=e[4],u=e[5],l=e[6],h=e[7],f=e[8],c=Math.sin(n),d=Math.cos(n);t[0]=d*i+c*s;t[1]=d*r+c*o;t[2]=d*a+c*u;t[3]=d*s-c*i;t[4]=d*o-c*r;t[5]=d*u-c*a;t[6]=l;t[7]=h;t[8]=f;return t};f.scale=function(t,e,n){var i=n[0],r=n[1];t[0]=i*e[0];t[1]=i*e[1];t[2]=i*e[2];t[3]=r*e[3];t[4]=r*e[4];t[5]=r*e[5];t[6]=e[6];t[7]=e[7];t[8]=e[8];return t};f.fromMat2d=function(t,e){t[0]=e[0];t[1]=e[1];t[2]=0;t[3]=e[2];t[4]=e[3];t[5]=0;t[6]=e[4];t[7]=e[5];t[8]=1;return t};f.fromQuat=function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],s=n+n,o=i+i,u=r+r,l=n*s,h=i*s,f=i*o,c=r*s,d=r*o,p=r*u,m=a*s,g=a*o,v=a*u;t[0]=1-f-p;t[3]=h-v;t[6]=c+g;t[1]=h+v;t[4]=1-l-p;t[7]=d-m;t[2]=c-g;t[5]=d+m;t[8]=1-l-f;return t};f.normalFromMat4=function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],u=e[6],l=e[7],h=e[8],f=e[9],c=e[10],d=e[11],p=e[12],m=e[13],g=e[14],v=e[15],_=n*o-i*s,y=n*u-r*s,x=n*l-a*s,b=i*u-r*o,w=i*l-a*o,T=r*l-a*u,S=h*m-f*p,M=h*g-c*p,C=h*v-d*p,P=f*g-c*m,A=f*v-d*m,k=c*v-d*g,E=_*k-y*A+x*P+b*C-w*M+T*S;if(!E)return null;E=1/E;t[0]=(o*k-u*A+l*P)*E;t[1]=(u*C-s*k-l*M)*E;t[2]=(s*A-o*C+l*S)*E;t[3]=(r*A-i*k-a*P)*E;t[4]=(n*k-r*C+a*M)*E;t[5]=(i*C-n*A-a*S)*E;t[6]=(m*T-g*w+v*b)*E;t[7]=(g*x-p*T-v*y)*E;t[8]=(p*w-m*x+v*_)*E;return t};f.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"};f.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))};"undefined"!=typeof t&&(t.mat3=f);var c={};c.create=function(){var t=new n(16);t[0]=1;t[1]=0;t[2]=0;t[3]=0;t[4]=0;t[5]=1;t[6]=0;t[7]=0;t[8]=0;t[9]=0;t[10]=1;t[11]=0;t[12]=0;t[13]=0;t[14]=0;t[15]=1;return t};c.clone=function(t){var e=new n(16);e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];e[4]=t[4];e[5]=t[5];e[6]=t[6];e[7]=t[7];e[8]=t[8];e[9]=t[9];e[10]=t[10];e[11]=t[11];e[12]=t[12];e[13]=t[13];e[14]=t[14];e[15]=t[15];return e};c.copy=function(t,e){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];t[4]=e[4];t[5]=e[5];t[6]=e[6];t[7]=e[7];t[8]=e[8];t[9]=e[9];t[10]=e[10];t[11]=e[11];t[12]=e[12];t[13]=e[13];t[14]=e[14];t[15]=e[15];return t};c.identity=function(t){t[0]=1;t[1]=0;t[2]=0;t[3]=0;t[4]=0;t[5]=1;t[6]=0;t[7]=0;t[8]=0;t[9]=0;t[10]=1;t[11]=0;t[12]=0;t[13]=0;t[14]=0;t[15]=1;return t};c.transpose=function(t,e){if(t===e){var n=e[1],i=e[2],r=e[3],a=e[6],s=e[7],o=e[11];t[1]=e[4];t[2]=e[8];t[3]=e[12];t[4]=n;t[6]=e[9];t[7]=e[13];t[8]=i;t[9]=a;
t[11]=e[14];t[12]=r;t[13]=s;t[14]=o}else{t[0]=e[0];t[1]=e[4];t[2]=e[8];t[3]=e[12];t[4]=e[1];t[5]=e[5];t[6]=e[9];t[7]=e[13];t[8]=e[2];t[9]=e[6];t[10]=e[10];t[11]=e[14];t[12]=e[3];t[13]=e[7];t[14]=e[11];t[15]=e[15]}return t};c.invert=function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],u=e[6],l=e[7],h=e[8],f=e[9],c=e[10],d=e[11],p=e[12],m=e[13],g=e[14],v=e[15],_=n*o-i*s,y=n*u-r*s,x=n*l-a*s,b=i*u-r*o,w=i*l-a*o,T=r*l-a*u,S=h*m-f*p,M=h*g-c*p,C=h*v-d*p,P=f*g-c*m,A=f*v-d*m,k=c*v-d*g,E=_*k-y*A+x*P+b*C-w*M+T*S;if(!E)return null;E=1/E;t[0]=(o*k-u*A+l*P)*E;t[1]=(r*A-i*k-a*P)*E;t[2]=(m*T-g*w+v*b)*E;t[3]=(c*w-f*T-d*b)*E;t[4]=(u*C-s*k-l*M)*E;t[5]=(n*k-r*C+a*M)*E;t[6]=(g*x-p*T-v*y)*E;t[7]=(h*T-c*x+d*y)*E;t[8]=(s*A-o*C+l*S)*E;t[9]=(i*C-n*A-a*S)*E;t[10]=(p*w-m*x+v*_)*E;t[11]=(f*x-h*w-d*_)*E;t[12]=(o*M-s*P-u*S)*E;t[13]=(n*P-i*M+r*S)*E;t[14]=(m*y-p*b-g*_)*E;t[15]=(h*b-f*y+c*_)*E;return t};c.adjoint=function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],u=e[6],l=e[7],h=e[8],f=e[9],c=e[10],d=e[11],p=e[12],m=e[13],g=e[14],v=e[15];t[0]=o*(c*v-d*g)-f*(u*v-l*g)+m*(u*d-l*c);t[1]=-(i*(c*v-d*g)-f*(r*v-a*g)+m*(r*d-a*c));t[2]=i*(u*v-l*g)-o*(r*v-a*g)+m*(r*l-a*u);t[3]=-(i*(u*d-l*c)-o*(r*d-a*c)+f*(r*l-a*u));t[4]=-(s*(c*v-d*g)-h*(u*v-l*g)+p*(u*d-l*c));t[5]=n*(c*v-d*g)-h*(r*v-a*g)+p*(r*d-a*c);t[6]=-(n*(u*v-l*g)-s*(r*v-a*g)+p*(r*l-a*u));t[7]=n*(u*d-l*c)-s*(r*d-a*c)+h*(r*l-a*u);t[8]=s*(f*v-d*m)-h*(o*v-l*m)+p*(o*d-l*f);t[9]=-(n*(f*v-d*m)-h*(i*v-a*m)+p*(i*d-a*f));t[10]=n*(o*v-l*m)-s*(i*v-a*m)+p*(i*l-a*o);t[11]=-(n*(o*d-l*f)-s*(i*d-a*f)+h*(i*l-a*o));t[12]=-(s*(f*g-c*m)-h*(o*g-u*m)+p*(o*c-u*f));t[13]=n*(f*g-c*m)-h*(i*g-r*m)+p*(i*c-r*f);t[14]=-(n*(o*g-u*m)-s*(i*g-r*m)+p*(i*u-r*o));t[15]=n*(o*c-u*f)-s*(i*c-r*f)+h*(i*u-r*o);return t};c.determinant=function(t){var e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],s=t[5],o=t[6],u=t[7],l=t[8],h=t[9],f=t[10],c=t[11],d=t[12],p=t[13],m=t[14],g=t[15],v=e*s-n*a,_=e*o-i*a,y=e*u-r*a,x=n*o-i*s,b=n*u-r*s,w=i*u-r*o,T=l*p-h*d,S=l*m-f*d,M=l*g-c*d,C=h*m-f*p,P=h*g-c*p,A=f*g-c*m;return v*A-_*P+y*C+x*M-b*S+w*T};c.multiply=function(t,e,n){var i=e[0],r=e[1],a=e[2],s=e[3],o=e[4],u=e[5],l=e[6],h=e[7],f=e[8],c=e[9],d=e[10],p=e[11],m=e[12],g=e[13],v=e[14],_=e[15],y=n[0],x=n[1],b=n[2],w=n[3];t[0]=y*i+x*o+b*f+w*m;t[1]=y*r+x*u+b*c+w*g;t[2]=y*a+x*l+b*d+w*v;t[3]=y*s+x*h+b*p+w*_;y=n[4];x=n[5];b=n[6];w=n[7];t[4]=y*i+x*o+b*f+w*m;t[5]=y*r+x*u+b*c+w*g;t[6]=y*a+x*l+b*d+w*v;t[7]=y*s+x*h+b*p+w*_;y=n[8];x=n[9];b=n[10];w=n[11];t[8]=y*i+x*o+b*f+w*m;t[9]=y*r+x*u+b*c+w*g;t[10]=y*a+x*l+b*d+w*v;t[11]=y*s+x*h+b*p+w*_;y=n[12];x=n[13];b=n[14];w=n[15];t[12]=y*i+x*o+b*f+w*m;t[13]=y*r+x*u+b*c+w*g;t[14]=y*a+x*l+b*d+w*v;t[15]=y*s+x*h+b*p+w*_;return t};c.mul=c.multiply;c.translate=function(t,e,n){var i,r,a,s,o,u,l,h,f,c,d,p,m=n[0],g=n[1],v=n[2];if(e===t){t[12]=e[0]*m+e[4]*g+e[8]*v+e[12];t[13]=e[1]*m+e[5]*g+e[9]*v+e[13];t[14]=e[2]*m+e[6]*g+e[10]*v+e[14];t[15]=e[3]*m+e[7]*g+e[11]*v+e[15]}else{i=e[0];r=e[1];a=e[2];s=e[3];o=e[4];u=e[5];l=e[6];h=e[7];f=e[8];c=e[9];d=e[10];p=e[11];t[0]=i;t[1]=r;t[2]=a;t[3]=s;t[4]=o;t[5]=u;t[6]=l;t[7]=h;t[8]=f;t[9]=c;t[10]=d;t[11]=p;t[12]=i*m+o*g+f*v+e[12];t[13]=r*m+u*g+c*v+e[13];t[14]=a*m+l*g+d*v+e[14];t[15]=s*m+h*g+p*v+e[15]}return t};c.scale=function(t,e,n){var i=n[0],r=n[1],a=n[2];t[0]=e[0]*i;t[1]=e[1]*i;t[2]=e[2]*i;t[3]=e[3]*i;t[4]=e[4]*r;t[5]=e[5]*r;t[6]=e[6]*r;t[7]=e[7]*r;t[8]=e[8]*a;t[9]=e[9]*a;t[10]=e[10]*a;t[11]=e[11]*a;t[12]=e[12];t[13]=e[13];t[14]=e[14];t[15]=e[15];return t};c.rotate=function(t,n,i,r){var a,s,o,u,l,h,f,c,d,p,m,g,v,_,y,x,b,w,T,S,M,C,P,A,k=r[0],E=r[1],L=r[2],N=Math.sqrt(k*k+E*E+L*L);if(Math.abs(N)<e)return null;N=1/N;k*=N;E*=N;L*=N;a=Math.sin(i);s=Math.cos(i);o=1-s;u=n[0];l=n[1];h=n[2];f=n[3];c=n[4];d=n[5];p=n[6];m=n[7];g=n[8];v=n[9];_=n[10];y=n[11];x=k*k*o+s;b=E*k*o+L*a;w=L*k*o-E*a;T=k*E*o-L*a;S=E*E*o+s;M=L*E*o+k*a;C=k*L*o+E*a;P=E*L*o-k*a;A=L*L*o+s;t[0]=u*x+c*b+g*w;t[1]=l*x+d*b+v*w;t[2]=h*x+p*b+_*w;t[3]=f*x+m*b+y*w;t[4]=u*T+c*S+g*M;t[5]=l*T+d*S+v*M;t[6]=h*T+p*S+_*M;t[7]=f*T+m*S+y*M;t[8]=u*C+c*P+g*A;t[9]=l*C+d*P+v*A;t[10]=h*C+p*P+_*A;t[11]=f*C+m*P+y*A;if(n!==t){t[12]=n[12];t[13]=n[13];t[14]=n[14];t[15]=n[15]}return t};c.rotateX=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),a=e[4],s=e[5],o=e[6],u=e[7],l=e[8],h=e[9],f=e[10],c=e[11];if(e!==t){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];t[12]=e[12];t[13]=e[13];t[14]=e[14];t[15]=e[15]}t[4]=a*r+l*i;t[5]=s*r+h*i;t[6]=o*r+f*i;t[7]=u*r+c*i;t[8]=l*r-a*i;t[9]=h*r-s*i;t[10]=f*r-o*i;t[11]=c*r-u*i;return t};c.rotateY=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),a=e[0],s=e[1],o=e[2],u=e[3],l=e[8],h=e[9],f=e[10],c=e[11];if(e!==t){t[4]=e[4];t[5]=e[5];t[6]=e[6];t[7]=e[7];t[12]=e[12];t[13]=e[13];t[14]=e[14];t[15]=e[15]}t[0]=a*r-l*i;t[1]=s*r-h*i;t[2]=o*r-f*i;t[3]=u*r-c*i;t[8]=a*i+l*r;t[9]=s*i+h*r;t[10]=o*i+f*r;t[11]=u*i+c*r;return t};c.rotateZ=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),a=e[0],s=e[1],o=e[2],u=e[3],l=e[4],h=e[5],f=e[6],c=e[7];if(e!==t){t[8]=e[8];t[9]=e[9];t[10]=e[10];t[11]=e[11];t[12]=e[12];t[13]=e[13];t[14]=e[14];t[15]=e[15]}t[0]=a*r+l*i;t[1]=s*r+h*i;t[2]=o*r+f*i;t[3]=u*r+c*i;t[4]=l*r-a*i;t[5]=h*r-s*i;t[6]=f*r-o*i;t[7]=c*r-u*i;return t};c.fromRotationTranslation=function(t,e,n){var i=e[0],r=e[1],a=e[2],s=e[3],o=i+i,u=r+r,l=a+a,h=i*o,f=i*u,c=i*l,d=r*u,p=r*l,m=a*l,g=s*o,v=s*u,_=s*l;t[0]=1-(d+m);t[1]=f+_;t[2]=c-v;t[3]=0;t[4]=f-_;t[5]=1-(h+m);t[6]=p+g;t[7]=0;t[8]=c+v;t[9]=p-g;t[10]=1-(h+d);t[11]=0;t[12]=n[0];t[13]=n[1];t[14]=n[2];t[15]=1;return t};c.fromQuat=function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],s=n+n,o=i+i,u=r+r,l=n*s,h=i*s,f=i*o,c=r*s,d=r*o,p=r*u,m=a*s,g=a*o,v=a*u;t[0]=1-f-p;t[1]=h+v;t[2]=c-g;t[3]=0;t[4]=h-v;t[5]=1-l-p;t[6]=d+m;t[7]=0;t[8]=c+g;t[9]=d-m;t[10]=1-l-f;t[11]=0;t[12]=0;t[13]=0;t[14]=0;t[15]=1;return t};c.frustum=function(t,e,n,i,r,a,s){var o=1/(n-e),u=1/(r-i),l=1/(a-s);t[0]=2*a*o;t[1]=0;t[2]=0;t[3]=0;t[4]=0;t[5]=2*a*u;t[6]=0;t[7]=0;t[8]=(n+e)*o;t[9]=(r+i)*u;t[10]=(s+a)*l;t[11]=-1;t[12]=0;t[13]=0;t[14]=s*a*2*l;t[15]=0;return t};c.perspective=function(t,e,n,i,r){var a=1/Math.tan(e/2),s=1/(i-r);t[0]=a/n;t[1]=0;t[2]=0;t[3]=0;t[4]=0;t[5]=a;t[6]=0;t[7]=0;t[8]=0;t[9]=0;t[10]=(r+i)*s;t[11]=-1;t[12]=0;t[13]=0;t[14]=2*r*i*s;t[15]=0;return t};c.ortho=function(t,e,n,i,r,a,s){var o=1/(e-n),u=1/(i-r),l=1/(a-s);t[0]=-2*o;t[1]=0;t[2]=0;t[3]=0;t[4]=0;t[5]=-2*u;t[6]=0;t[7]=0;t[8]=0;t[9]=0;t[10]=2*l;t[11]=0;t[12]=(e+n)*o;t[13]=(r+i)*u;t[14]=(s+a)*l;t[15]=1;return t};c.lookAt=function(t,n,i,r){var a,s,o,u,l,h,f,d,p,m,g=n[0],v=n[1],_=n[2],y=r[0],x=r[1],b=r[2],w=i[0],T=i[1],S=i[2];if(Math.abs(g-w)<e&&Math.abs(v-T)<e&&Math.abs(_-S)<e)return c.identity(t);f=g-w;d=v-T;p=_-S;m=1/Math.sqrt(f*f+d*d+p*p);f*=m;d*=m;p*=m;a=x*p-b*d;s=b*f-y*p;o=y*d-x*f;m=Math.sqrt(a*a+s*s+o*o);if(m){m=1/m;a*=m;s*=m;o*=m}else{a=0;s=0;o=0}u=d*o-p*s;l=p*a-f*o;h=f*s-d*a;m=Math.sqrt(u*u+l*l+h*h);if(m){m=1/m;u*=m;l*=m;h*=m}else{u=0;l=0;h=0}t[0]=a;t[1]=u;t[2]=f;t[3]=0;t[4]=s;t[5]=l;t[6]=d;t[7]=0;t[8]=o;t[9]=h;t[10]=p;t[11]=0;t[12]=-(a*g+s*v+o*_);t[13]=-(u*g+l*v+h*_);t[14]=-(f*g+d*v+p*_);t[15]=1;return t};c.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"};c.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))};"undefined"!=typeof t&&(t.mat4=c);var d={};d.create=function(){var t=new n(4);t[0]=0;t[1]=0;t[2]=0;t[3]=1;return t};d.rotationTo=function(){var t=o.create(),e=o.fromValues(1,0,0),n=o.fromValues(0,1,0);return function(i,r,a){var s=o.dot(r,a);if(-.999999>s){o.cross(t,e,r);o.length(t)<1e-6&&o.cross(t,n,r);o.normalize(t,t);d.setAxisAngle(i,t,Math.PI);return i}if(s>.999999){i[0]=0;i[1]=0;i[2]=0;i[3]=1;return i}o.cross(t,r,a);i[0]=t[0];i[1]=t[1];i[2]=t[2];i[3]=1+s;return d.normalize(i,i)}}();d.setAxes=function(){var t=f.create();return function(e,n,i,r){t[0]=i[0];t[3]=i[1];t[6]=i[2];t[1]=r[0];t[4]=r[1];t[7]=r[2];t[2]=-n[0];t[5]=-n[1];t[8]=-n[2];return d.normalize(e,d.fromMat3(e,t))}}();d.clone=u.clone;d.fromValues=u.fromValues;d.copy=u.copy;d.set=u.set;d.identity=function(t){t[0]=0;t[1]=0;t[2]=0;t[3]=1;return t};d.setAxisAngle=function(t,e,n){n=.5*n;var i=Math.sin(n);t[0]=i*e[0];t[1]=i*e[1];t[2]=i*e[2];t[3]=Math.cos(n);return t};d.add=u.add;d.multiply=function(t,e,n){var i=e[0],r=e[1],a=e[2],s=e[3],o=n[0],u=n[1],l=n[2],h=n[3];t[0]=i*h+s*o+r*l-a*u;t[1]=r*h+s*u+a*o-i*l;t[2]=a*h+s*l+i*u-r*o;t[3]=s*h-i*o-r*u-a*l;return t};d.mul=d.multiply;d.scale=u.scale;d.rotateX=function(t,e,n){n*=.5;var i=e[0],r=e[1],a=e[2],s=e[3],o=Math.sin(n),u=Math.cos(n);t[0]=i*u+s*o;t[1]=r*u+a*o;t[2]=a*u-r*o;t[3]=s*u-i*o;return t};d.rotateY=function(t,e,n){n*=.5;var i=e[0],r=e[1],a=e[2],s=e[3],o=Math.sin(n),u=Math.cos(n);t[0]=i*u-a*o;t[1]=r*u+s*o;t[2]=a*u+i*o;t[3]=s*u-r*o;return t};d.rotateZ=function(t,e,n){n*=.5;var i=e[0],r=e[1],a=e[2],s=e[3],o=Math.sin(n),u=Math.cos(n);t[0]=i*u+r*o;t[1]=r*u-i*o;t[2]=a*u+s*o;t[3]=s*u-a*o;return t};d.calculateW=function(t,e){var n=e[0],i=e[1],r=e[2];t[0]=n;t[1]=i;t[2]=r;t[3]=-Math.sqrt(Math.abs(1-n*n-i*i-r*r));return t};d.dot=u.dot;d.lerp=u.lerp;d.slerp=function(t,e,n,i){var r,a,s,o,u,l=e[0],h=e[1],f=e[2],c=e[3],d=n[0],p=n[1],m=n[2],g=n[3];a=l*d+h*p+f*m+c*g;if(0>a){a=-a;d=-d;p=-p;m=-m;g=-g}if(1-a>1e-6){r=Math.acos(a);s=Math.sin(r);o=Math.sin((1-i)*r)/s;u=Math.sin(i*r)/s}else{o=1-i;u=i}t[0]=o*l+u*d;t[1]=o*h+u*p;t[2]=o*f+u*m;t[3]=o*c+u*g;return t};d.invert=function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],s=n*n+i*i+r*r+a*a,o=s?1/s:0;t[0]=-n*o;t[1]=-i*o;t[2]=-r*o;t[3]=a*o;return t};d.conjugate=function(t,e){t[0]=-e[0];t[1]=-e[1];t[2]=-e[2];t[3]=e[3];return t};d.length=u.length;d.len=d.length;d.squaredLength=u.squaredLength;d.sqrLen=d.squaredLength;d.normalize=u.normalize;d.fromMat3=function(t,e){var n,i=e[0]+e[4]+e[8];if(i>0){n=Math.sqrt(i+1);t[3]=.5*n;n=.5/n;t[0]=(e[7]-e[5])*n;t[1]=(e[2]-e[6])*n;t[2]=(e[3]-e[1])*n}else{var r=0;e[4]>e[0]&&(r=1);e[8]>e[3*r+r]&&(r=2);var a=(r+1)%3,s=(r+2)%3;n=Math.sqrt(e[3*r+r]-e[3*a+a]-e[3*s+s]+1);t[r]=.5*n;n=.5/n;t[3]=(e[3*s+a]-e[3*a+s])*n;t[a]=(e[3*a+r]+e[3*r+a])*n;t[s]=(e[3*s+r]+e[3*r+s])*n}return t};d.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"};"undefined"!=typeof t&&(t.quat=d)}(e.exports)}(this);define("app/PeriodicPath",["require","./Constants","./Stage","snap","glMatrix"],function(t){"use strict";function e(t,e,n,i,r,a){this.radius=t;this.particles=[];this.rotationsPerSecond=r;this.axis=a;this.baseTransform=u.create();this.centerX=e;this.centerY=n;this.centerZ=i;this.rotationX=0;this.rotationY=0;this.rotationZ=0;this.scaleX=1;this.scaleY=1;this.scaleZ=1;this.transform=u.create()}function n(){c[h.X]=this.centerX;c[h.Y]=this.centerY;c[h.Z]=this.centerZ;u.copy(this.transform,this.baseTransform);u.translate(this.transform,this.transform,c);c[h.X]=this.scaleX;c[h.Y]=this.scaleY;c[h.Z]=this.scaleZ;u.scale(this.transform,this.transform,c);u.rotateX(this.transform,this.transform,this.rotationX);u.rotateY(this.transform,this.transform,this.rotationY);u.rotateZ(this.transform,this.transform,this.rotationZ)}function i(t){this.updateTransform();var e=this.rotationsPerSecond*t;switch(this.axis){case h.X:this.applyAboutXAxis(e);break;case h.Y:this.applyAboutYAxis(e);break;case h.Z:this.applyAboutZAxis(e)}}function r(t){var e,n,i=0,r=this.particles.length,a=o.vec3.create();for(i=0;r>i;i++){e=this.particles[i];e.t=(e.t+t)%1;n=f*e.t;a[h.X]=0;a[h.Y]=Math.sin(n)*this.radius;a[h.Z]=Math.cos(n)*this.radius;l.transformMat4(a,a,this.transform);e.x=a[h.X];e.y=a[h.Y];e.z=a[h.Z];e.update()}}function a(t){var e,n,i=0,r=this.particles.length,a=[0,0,0];for(i=0;r>i;i++){e=this.particles[i];e.t=(e.t+t)%1;n=f*e.t;a[h.X]=Math.cos(n)*this.radius;a[h.Y]=0;a[h.Z]=Math.sin(n)*this.radius;l.transformMat4(a,a,this.transform);e.x=a[h.X];e.y=a[h.Y];e.z=a[h.Z];e.update()}}function s(t){var e,n,i=0,r=this.particles.length,a=[0,0,0];for(i=0;r>i;i++){e=this.particles[i];e.t=(e.t+t)%1;n=f*e.t;a[h.X]=Math.cos(n)*this.radius;a[h.Y]=Math.sin(n)*this.radius;a[h.Z]=0;l.transformMat4(a,a,this.transform);e.x=a[h.X];e.y=a[h.Y];e.z=a[h.Z];e.update()}}var o=(t("./Constants"),t("./Stage"),t("snap"),t("glMatrix")),u=o.mat4,l=o.vec3,h={X:0,Y:1,Z:2},f=2*Math.PI,c=[];e.prototype.updateTransform=n;e.prototype.applyAboutXAxis=r;e.prototype.applyAboutYAxis=a;e.prototype.applyAboutZAxis=s;e.prototype.update=i;e.AXES=h;return e});define("GLSLMath",["require"],function(){"use strict";function t(){}function e(t){return 0>t?-1:t>0?1:0}function n(t,e,n){return(1-n)*t+n*e}t.prototype.sign=e;t.prototype.lerp=n;return new t});define("app/ParticleSystem",["require","./Constants","./Stage","./PathParticle","./PeriodicPath","GLSLMath","glMatrix"],function(t){"use strict";function e(){this.shouldStop=!1;this.scale=1;this.rotationX=0;this.rotationY=0;this.rotationZ=0;this.z=150;this.transform=c.create();this.build()}function n(){this.paths=[];this.particles=[];var t=.33,e=this.z,n=new u(.8*a.DIMENSIONS.HALF_SIZE,a.DIMENSIONS.HALF_SIZE,a.DIMENSIONS.HALF_SIZE,e,t,u.AXES.X),i=new u(.8*a.DIMENSIONS.HALF_SIZE,a.DIMENSIONS.HALF_SIZE,a.DIMENSIONS.HALF_SIZE,e,t,u.AXES.Y),r=new u(.25*a.DIMENSIONS.QUARTER_SIZE,a.DIMENSIONS.HALF_SIZE,a.DIMENSIONS.HALF_SIZE,e,1,u.AXES.Z),s=new u(.25*a.DIMENSIONS.QUARTER_SIZE,a.DIMENSIONS.HALF_SIZE,a.DIMENSIONS.HALF_SIZE,e,2,u.AXES.Z);this.paths.push(n);this.paths.push(i);this.paths.push(r);this.paths.push(s);var l=h*(-1/32),f=h*(-2/32),c=0*h,d=0,p=14,m=1/p;p=10;m=1/p;var g=[a.COLORS.WHITE,a.COLORS.YELLOW];for(d=0;p>d;d++){var v=new o(g[d%g.length],d*m);r.particles.push(v);this.particles.push(v)}r.rotationX=l-h*(-4/32);r.rotationY=f;r.rotationZ=c;p=10;m=1/p;for(d=0;p>d;d++){var v=new o(g[d%g.length],d*m);s.particles.push(v);this.particles.push(v)}s.rotationX=l+h*(-6/32);s.rotationY=f;s.rotationZ=c;p=14;m=1/p;for(d=0;p>d;d++){var v=new o(a.COLORS.GREEN,d*m);n.particles.push(v);this.particles.push(v)}n.rotationX=l;n.rotationY=f;n.rotationZ=c;for(d=0;p>d;d++){var v=new o(a.COLORS.RED,d*m);i.particles.push(v);this.particles.push(v)}i.rotationX=l;i.rotationY=f;i.rotationZ=c}function i(){c.identity(this.transform);c.translate(this.transform,this.transform,[a.DIMENSIONS.HALF_SIZE,a.DIMENSIONS.HALF_SIZE,this.z]);c.scale(this.transform,this.transform,[this.scale,this.scale,this.scale]);c.rotateX(this.transform,this.transform,this.rotationX);c.rotateY(this.transform,this.transform,this.rotationY);c.rotateZ(this.transform,this.transform,this.rotationZ);c.translate(this.transform,this.transform,[-a.DIMENSIONS.HALF_SIZE,-a.DIMENSIONS.HALF_SIZE,-this.z])}function r(t){this.updateTransform();var e=this.particles,n=this.paths;s.addClass("hidden");var i=0,r=n.length;for(i=0;r>i;i++){var a=n[i];c.copy(a.baseTransform,this.transform);a.update(t)}var r=e.length;e.sort(function(t,e){return l.sign(t.z-e.z)});for(i=0;r>i;i++){var o=e[i];o.svg.remove();s.append(o.svg)}s.removeClass("hidden")}var a=t("./Constants"),s=t("./Stage"),o=t("./PathParticle"),u=t("./PeriodicPath"),l=t("GLSLMath"),h=2*Math.PI,f=t("glMatrix"),c=f.mat4;e.prototype.updateTransform=i;e.prototype.build=n;e.prototype.step=r;return e});!function(t,e){"use strict";var n=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!n.TweenLite){var i,r,a,s,o,u=function(t){var e,i=t.split("."),r=n;for(e=0;e<i.length;e++)r[i[e]]=r=r[i[e]]||{};return r},l=u("com.greensock"),h=1e-10,f=function(t){var e,n=[],i=t.length;for(e=0;e!==i;n.push(t[e++]));return n},c=function(){},d=function(){var t=Object.prototype.toString,e=t.call([]);return function(n){return null!=n&&(n instanceof Array||"object"==typeof n&&!!n.push&&t.call(n)===e)}}(),p={},m=function(i,r,a,s){this.sc=p[i]?p[i].sc:[];p[i]=this;this.gsClass=null;this.func=a;var o=[];this.check=function(l){for(var h,f,c,d,g=r.length,v=g;--g>-1;)if((h=p[r[g]]||new m(r[g],[])).gsClass){o[g]=h.gsClass;v--}else l&&h.sc.push(this);if(0===v&&a){f=("com.greensock."+i).split(".");c=f.pop();d=u(f.join("."))[c]=this.gsClass=a.apply(a,o);if(s){n[c]=d;"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+i.split(".").pop(),[],function(){return d}):i===e&&"undefined"!=typeof module&&module.exports&&(module.exports=d)}for(g=0;g<this.sc.length;g++)this.sc[g].check()}};this.check(!0)},g=t._gsDefine=function(t,e,n,i){return new m(t,e,n,i)},v=l._class=function(t,e,n){e=e||function(){};g(t,[],function(){return e},n);return e};g.globals=n;var _=[0,0,1,1],y=[],x=v("easing.Ease",function(t,e,n,i){this._func=t;this._type=n||0;this._power=i||0;this._params=e?_.concat(e):_},!0),b=x.map={},w=x.register=function(t,e,n,i){for(var r,a,s,o,u=e.split(","),h=u.length,f=(n||"easeIn,easeOut,easeInOut").split(",");--h>-1;){a=u[h];r=i?v("easing."+a,null,!0):l.easing[a]||{};s=f.length;for(;--s>-1;){o=f[s];b[a+"."+o]=b[o+a]=r[o]=t.getRatio?t:t[o]||new t}}};a=x.prototype;a._calcEnd=!1;a.getRatio=function(t){if(this._func){this._params[0]=t;return this._func.apply(null,this._params)}var e=this._type,n=this._power,i=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);1===n?i*=i:2===n?i*=i*i:3===n?i*=i*i*i:4===n&&(i*=i*i*i*i);return 1===e?1-i:2===e?i:.5>t?i/2:1-i/2};i=["Linear","Quad","Cubic","Quart","Quint,Strong"];r=i.length;for(;--r>-1;){a=i[r]+",Power"+r;w(new x(null,null,1,r),a,"easeOut",!0);w(new x(null,null,2,r),a,"easeIn"+(0===r?",easeNone":""));w(new x(null,null,3,r),a,"easeInOut")}b.linear=l.easing.Linear.easeIn;b.swing=l.easing.Quad.easeInOut;var T=v("events.EventDispatcher",function(t){this._listeners={};this._eventTarget=t||this});a=T.prototype;a.addEventListener=function(t,e,n,i,r){r=r||0;var a,u,l=this._listeners[t],h=0;null==l&&(this._listeners[t]=l=[]);u=l.length;for(;--u>-1;){a=l[u];a.c===e&&a.s===n?l.splice(u,1):0===h&&a.pr<r&&(h=u+1)}l.splice(h,0,{c:e,s:n,up:i,pr:r});this!==s||o||s.wake()};a.removeEventListener=function(t,e){var n,i=this._listeners[t];if(i){n=i.length;for(;--n>-1;)if(i[n].c===e){i.splice(n,1);return}}};a.dispatchEvent=function(t){var e,n,i,r=this._listeners[t];if(r){e=r.length;n=this._eventTarget;for(;--e>-1;){i=r[e];i&&(i.up?i.c.call(i.s||n,{type:t,target:n}):i.c.call(i.s||n))}}};var S=t.requestAnimationFrame,M=t.cancelAnimationFrame,C=Date.now||function(){return(new Date).getTime()},P=C();i=["ms","moz","webkit","o"];r=i.length;for(;--r>-1&&!S;){S=t[i[r]+"RequestAnimationFrame"];M=t[i[r]+"CancelAnimationFrame"]||t[i[r]+"CancelRequestAnimationFrame"]}v("Ticker",function(t,e){var n,i,r,a,u,l=this,f=C(),d=e!==!1&&S,p=500,m=33,g="tick",v=function(t){var e,s,o=C()-P;o>p&&(f+=o-m);P+=o;l.time=(P-f)/1e3;e=l.time-u;if(!n||e>0||t===!0){l.frame++;u+=e+(e>=a?.004:a-e);s=!0}t!==!0&&(r=i(v));s&&l.dispatchEvent(g)};T.call(l);l.time=l.frame=0;l.tick=function(){v(!0)};l.lagSmoothing=function(t,e){p=t||1/h;m=Math.min(e,p,0)};l.sleep=function(){if(null!=r){d&&M?M(r):clearTimeout(r);i=c;r=null;l===s&&(o=!1)}};l.wake=function(){null!==r?l.sleep():l.frame>10&&(P=C()-p+5);i=0===n?c:d&&S?S:function(t){return setTimeout(t,1e3*(u-l.time)+1|0)};l===s&&(o=!0);v(2)};l.fps=function(t){if(!arguments.length)return n;n=t;a=1/(n||60);u=this.time+a;l.wake()};l.useRAF=function(t){if(!arguments.length)return d;l.sleep();d=t;l.fps(n)};l.fps(t);setTimeout(function(){d&&l.frame<5&&l.useRAF(!1)},1500)});a=l.Ticker.prototype=new l.events.EventDispatcher;a.constructor=l.Ticker;var A=v("core.Animation",function(t,e){this.vars=e=e||{};this._duration=this._totalDuration=t||0;this._delay=Number(e.delay)||0;this._timeScale=1;this._active=e.immediateRender===!0;this.data=e.data;this._reversed=e.reversed===!0;if(Z){o||s.wake();var n=this.vars.useFrames?X:Z;n.add(this,n._time);this.vars.paused&&this.paused(!0)}});s=A.ticker=new l.Ticker;a=A.prototype;a._dirty=a._gc=a._initted=a._paused=!1;a._totalTime=a._time=0;a._rawPrevTime=-1;a._next=a._last=a._onUpdate=a._timeline=a.timeline=null;a._paused=!1;var k=function(){o&&C()-P>2e3&&s.wake();setTimeout(k,2e3)};k();a.play=function(t,e){null!=t&&this.seek(t,e);return this.reversed(!1).paused(!1)};a.pause=function(t,e){null!=t&&this.seek(t,e);return this.paused(!0)};a.resume=function(t,e){null!=t&&this.seek(t,e);return this.paused(!1)};a.seek=function(t,e){return this.totalTime(Number(t),e!==!1)};a.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)};a.reverse=function(t,e){null!=t&&this.seek(t||this.totalDuration(),e);return this.reversed(!0).paused(!1)};a.render=function(){};a.invalidate=function(){this._time=this._totalTime=0;this._initted=this._gc=!1;this._rawPrevTime=-1;(this._gc||!this.timeline)&&this._enabled(!0);return this};a.isActive=function(){var t,e=this._timeline,n=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=n&&t<n+this.totalDuration()/this._timeScale};a._enabled=function(t,e){o||s.wake();this._gc=!t;this._active=this.isActive();e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0));return!1};a._kill=function(){return this._enabled(!1,!1)};a.kill=function(t,e){this._kill(t,e);return this};a._uncache=function(t){for(var e=t?this:this.timeline;e;){e._dirty=!0;e=e.timeline}return this};a._swapSelfInParams=function(t){for(var e=t.length,n=t.concat();--e>-1;)"{self}"===t[e]&&(n[e]=this);return n};a.eventCallback=function(t,e,n,i){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];if(null==e)delete r[t];else{r[t]=e;r[t+"Params"]=d(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n;r[t+"Scope"]=i}"onUpdate"===t&&(this._onUpdate=e)}return this};a.delay=function(t){if(!arguments.length)return this._delay;this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay);this._delay=t;return this};a.duration=function(t){if(!arguments.length){this._dirty=!1;return this._duration}this._duration=this._totalDuration=t;this._uncache(!0);this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0);return this};a.totalDuration=function(t){this._dirty=!1;return arguments.length?this.duration(t):this._totalDuration};a.time=function(t,e){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();return this.totalTime(t>this._duration?this._duration:t,e)};a.totalTime=function(t,e,n){o||s.wake();if(!arguments.length)return this._totalTime;if(this._timeline){0>t&&!n&&(t+=this.totalDuration());if(this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var i=this._totalDuration,r=this._timeline;t>i&&!n&&(t=i);this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?i-t:t)/this._timeScale;r._dirty||this._uncache(!1);if(r._timeline)for(;r._timeline;){r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0);r=r._timeline}}this._gc&&this._enabled(!0,!1);if(this._totalTime!==t||0===this._duration){this.render(t,e,!1);D.length&&U()}}return this};a.progress=a.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()};a.startTime=function(t){if(!arguments.length)return this._startTime;if(t!==this._startTime){this._startTime=t;this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)}return this};a.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale};a.timeScale=function(t){if(!arguments.length)return this._timeScale;t=t||h;if(this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,n=e||0===e?e:this._timeline.totalTime();this._startTime=n-(n-this._startTime)*this._timeScale/t}this._timeScale=t;return this._uncache(!1)};a.reversed=function(t){if(!arguments.length)return this._reversed;if(t!=this._reversed){this._reversed=t;this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)}return this};a.paused=function(t){if(!arguments.length)return this._paused;var e,n,i=this._timeline;if(t!=this._paused&&i){o||t||s.wake();e=i.rawTime();n=e-this._pauseTime;if(!t&&i.smoothChildTiming){this._startTime+=n;this._uncache(!1)}this._pauseTime=t?e:null;this._paused=t;this._active=this.isActive();!t&&0!==n&&this._initted&&this.duration()&&this.render(i.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,!0,!0)}this._gc&&!t&&this._enabled(!0,!1);return this};var E=v("core.SimpleTimeline",function(t){A.call(this,0,t);this.autoRemoveChildren=this.smoothChildTiming=!0});a=E.prototype=new A;a.constructor=E;a.kill()._gc=!1;a._first=a._last=a._recent=null;a._sortChildren=!1;a.add=a.insert=function(t,e){var n,i;t._startTime=Number(e||0)+t._delay;t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale);t.timeline&&t.timeline._remove(t,!0);t.timeline=t._timeline=this;t._gc&&t._enabled(!0,!0);n=this._last;if(this._sortChildren){i=t._startTime;for(;n&&n._startTime>i;)n=n._prev}if(n){t._next=n._next;n._next=t}else{t._next=this._first;this._first=t}t._next?t._next._prev=t:this._last=t;t._prev=n;this._recent=t;this._timeline&&this._uncache(!0);return this};a._remove=function(t,e){if(t.timeline===this){e||t._enabled(!1,!0);t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next);t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev);t._next=t._prev=t.timeline=null;t===this._recent&&(this._recent=this._last);this._timeline&&this._uncache(!0)}return this};a.render=function(t,e,n){var i,r=this._first;this._totalTime=this._time=this._rawPrevTime=t;for(;r;){i=r._next;(r._active||t>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,n):r.render((t-r._startTime)*r._timeScale,e,n));r=i}};a.rawTime=function(){o||s.wake();return this._totalTime};var L=v("TweenLite",function(e,n,i){A.call(this,n,i);this.render=L.prototype.render;if(null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:L.selector(e)||e;var r,a,s,o=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),u=this.vars.overwrite;this._overwrite=u=null==u?j[L.defaultOverwrite]:"number"==typeof u?u>>0:j[u];if((o||e instanceof Array||e.push&&d(e))&&"number"!=typeof e[0]){this._targets=s=f(e);this._propLookup=[];this._siblings=[];for(r=0;r<s.length;r++){a=s[r];if(a)if("string"!=typeof a)if(a.length&&a!==t&&a[0]&&(a[0]===t||a[0].nodeType&&a[0].style&&!a.nodeType)){s.splice(r--,1);this._targets=s=s.concat(f(a))}else{this._siblings[r]=V(a,this,!1);1===u&&this._siblings[r].length>1&&H(a,this,null,1,this._siblings[r])}else{a=s[r--]=L.selector(a);"string"==typeof a&&s.splice(r+1,1)}else s.splice(r--,1)}}else{this._propLookup={};this._siblings=V(e,this,!1);1===u&&this._siblings.length>1&&H(e,this,null,1,this._siblings)}if(this.vars.immediateRender||0===n&&0===this._delay&&this.vars.immediateRender!==!1){this._time=-h;this.render(-this._delay)}},!0),N=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},I=function(t,e){var n,i={};for(n in t)if(!(z[n]||n in e&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!O[n]||O[n]&&O[n]._autoCSS))){i[n]=t[n];delete t[n]}t.css=i};a=L.prototype=new A;a.constructor=L;a.kill()._gc=!1;a.ratio=0;a._firstPT=a._targets=a._overwrittenProps=a._startAt=null;a._notifyPluginsOfEnabled=a._lazy=!1;L.version="1.16.1";L.defaultEase=a._ease=new x(null,null,1,1);L.defaultOverwrite="auto";L.ticker=s;L.autoSleep=120;L.lagSmoothing=function(t,e){s.lagSmoothing(t,e)};L.selector=t.$||t.jQuery||function(e){var n=t.$||t.jQuery;if(n){L.selector=n;return n(e)}return"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var D=[],F={},R=L._internals={isArray:d,isSelector:N,lazyTweens:D},O=L._plugins={},q=R.tweenLookup={},B=0,z=R.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1},j={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},X=A._rootFramesTimeline=new E,Z=A._rootTimeline=new E,G=30,U=R.lazyRender=function(){var t,e=D.length;F={};for(;--e>-1;){t=D[e];if(t&&t._lazy!==!1){t.render(t._lazy[0],t._lazy[1],!0);t._lazy=!1}}D.length=0};Z._startTime=s.time;X._startTime=s.frame;Z._active=X._active=!0;setTimeout(U,1);A._updateRoot=L.render=function(){var t,e,n;D.length&&U();Z.render((s.time-Z._startTime)*Z._timeScale,!1,!1);X.render((s.frame-X._startTime)*X._timeScale,!1,!1);D.length&&U();if(s.frame>=G){G=s.frame+(parseInt(L.autoSleep,10)||120);for(n in q){e=q[n].tweens;t=e.length;for(;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete q[n]}n=Z._first;if((!n||n._paused)&&L.autoSleep&&!X._first&&1===s._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||s.sleep()}}};s.addEventListener("tick",A._updateRoot);var V=function(t,e,n){var i,r,a=t._gsTweenID;q[a||(t._gsTweenID=a="t"+B++)]||(q[a]={target:t,tweens:[]});if(e){i=q[a].tweens;i[r=i.length]=e;if(n)for(;--r>-1;)i[r]===e&&i.splice(r,1)}return q[a].tweens},Y=function(t,e,n,i){var r,a,s=t.vars.onOverwrite;s&&(r=s(t,e,n,i));s=L.onOverwrite;s&&(a=s(t,e,n,i));return r!==!1&&a!==!1},H=function(t,e,n,i,r){var a,s,o,u;if(1===i||i>=4){u=r.length;for(a=0;u>a;a++)if((o=r[a])!==e)o._gc||Y(o,e)&&o._enabled(!1,!1)&&(s=!0);else if(5===i)break;return s}var l,f=e._startTime+h,c=[],d=0,p=0===e._duration;a=r.length;for(;--a>-1;)if((o=r[a])===e||o._gc||o._paused);else if(o._timeline!==e._timeline){l=l||Q(e,0,p);0===Q(o,l,p)&&(c[d++]=o)}else o._startTime<=f&&o._startTime+o.totalDuration()/o._timeScale>f&&((p||!o._initted)&&f-o._startTime<=2e-10||(c[d++]=o));a=d;for(;--a>-1;){o=c[a];2===i&&o._kill(n,t,e)&&(s=!0);if(2!==i||!o._firstPT&&o._initted){if(2!==i&&!Y(o,e))continue;o._enabled(!1,!1)&&(s=!0)}}return s},Q=function(t,e,n){for(var i=t._timeline,r=i._timeScale,a=t._startTime;i._timeline;){a+=i._startTime;r*=i._timeScale;if(i._paused)return-100;i=i._timeline}a/=r;return a>e?a-e:n&&a===e||!t._initted&&2*h>a-e?h:(a+=t.totalDuration()/t._timeScale/r)>e+h?0:a-e-h};a._init=function(){var t,e,n,i,r,a=this.vars,s=this._overwrittenProps,o=this._duration,u=!!a.immediateRender,l=a.ease;if(a.startAt){if(this._startAt){this._startAt.render(-1,!0);this._startAt.kill()}r={};for(i in a.startAt)r[i]=a.startAt[i];r.overwrite=!1;r.immediateRender=!0;r.lazy=u&&a.lazy!==!1;r.startAt=r.delay=null;this._startAt=L.to(this.target,0,r);if(u)if(this._time>0)this._startAt=null;else if(0!==o)return}else if(a.runBackwards&&0!==o)if(this._startAt){this._startAt.render(-1,!0);this._startAt.kill();this._startAt=null}else{0!==this._time&&(u=!1);n={};for(i in a)z[i]&&"autoCSS"!==i||(n[i]=a[i]);n.overwrite=0;n.data="isFromStart";n.lazy=u&&a.lazy!==!1;n.immediateRender=u;this._startAt=L.to(this.target,0,n);if(u){if(0===this._time)return}else{this._startAt._init();this._startAt._enabled(!1);this.vars.immediateRender&&(this._startAt=null)}}this._ease=l=l?l instanceof x?l:"function"==typeof l?new x(l,a.easeParams):b[l]||L.defaultEase:L.defaultEase;a.easeParams instanceof Array&&l.config&&(this._ease=l.config.apply(l,a.easeParams));this._easeType=this._ease._type;this._easePower=this._ease._power;this._firstPT=null;if(this._targets){t=this._targets.length;for(;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],s?s[t]:null)&&(e=!0)}else e=this._initProps(this.target,this._propLookup,this._siblings,s);e&&L._onPluginEvent("_onInitAllProps",this);s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1));if(a.runBackwards){n=this._firstPT;for(;n;){n.s+=n.c;n.c=-n.c;n=n._next
}}this._onUpdate=a.onUpdate;this._initted=!0};a._initProps=function(e,n,i,r){var a,s,o,u,l,h;if(null==e)return!1;F[e._gsTweenID]&&U();this.vars.css||e.style&&e!==t&&e.nodeType&&O.css&&this.vars.autoCSS!==!1&&I(this.vars,e);for(a in this.vars){h=this.vars[a];if(z[a])h&&(h instanceof Array||h.push&&d(h))&&-1!==h.join("").indexOf("{self}")&&(this.vars[a]=h=this._swapSelfInParams(h,this));else if(O[a]&&(u=new O[a])._onInitTween(e,this.vars[a],this)){this._firstPT=l={_next:this._firstPT,t:u,p:"setRatio",s:0,c:1,f:!0,n:a,pg:!0,pr:u._priority};s=u._overwriteProps.length;for(;--s>-1;)n[u._overwriteProps[s]]=this._firstPT;(u._priority||u._onInitAllProps)&&(o=!0);(u._onDisable||u._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else{this._firstPT=n[a]=l={_next:this._firstPT,t:e,p:a,f:"function"==typeof e[a],n:a,pg:!1,pr:0};l.s=l.f?e[a.indexOf("set")||"function"!=typeof e["get"+a.substr(3)]?a:"get"+a.substr(3)]():parseFloat(e[a]);l.c="string"==typeof h&&"="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*Number(h.substr(2)):Number(h)-l.s||0}l&&l._next&&(l._next._prev=l)}if(r&&this._kill(r,e))return this._initProps(e,n,i,r);if(this._overwrite>1&&this._firstPT&&i.length>1&&H(e,this,n,this._overwrite,i)){this._kill(n,e);return this._initProps(e,n,i,r)}this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(F[e._gsTweenID]=!0);return o};a.render=function(t,e,n){var i,r,a,s,o=this._time,u=this._duration,l=this._rawPrevTime;if(t>=u){this._totalTime=this._time=u;this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1;if(!this._reversed){i=!0;r="onComplete";n=n||this._timeline.autoRemoveChildren}if(0===u&&(this._initted||!this.vars.lazy||n)){this._startTime===this._timeline._duration&&(t=0);if((0===t||0>l||l===h&&"isPause"!==this.data)&&l!==t){n=!0;l>h&&(r="onReverseComplete")}this._rawPrevTime=s=!e||t||l===t?t:h}}else if(1e-7>t){this._totalTime=this._time=0;this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0;if(0!==o||0===u&&l>0){r="onReverseComplete";i=this._reversed}if(0>t){this._active=!1;if(0===u&&(this._initted||!this.vars.lazy||n)){l>=0&&(l!==h||"isPause"!==this.data)&&(n=!0);this._rawPrevTime=s=!e||t||l===t?t:h}}this._initted||(n=!0)}else{this._totalTime=this._time=t;if(this._easeType){var f=t/u,c=this._easeType,d=this._easePower;(1===c||3===c&&f>=.5)&&(f=1-f);3===c&&(f*=2);1===d?f*=f:2===d?f*=f*f:3===d?f*=f*f*f:4===d&&(f*=f*f*f*f);this.ratio=1===c?1-f:2===c?f:.5>t/u?f/2:1-f/2}else this.ratio=this._ease.getRatio(t/u)}if(this._time!==o||n){if(!this._initted){this._init();if(!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)){this._time=this._totalTime=o;this._rawPrevTime=l;D.push(this);this._lazy=[t,e];return}this._time&&!i?this.ratio=this._ease.getRatio(this._time/u):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}this._lazy!==!1&&(this._lazy=!1);this._active||!this._paused&&this._time!==o&&t>=0&&(this._active=!0);if(0===o){this._startAt&&(t>=0?this._startAt.render(t,e,n):r||(r="_dummyGS"));this.vars.onStart&&(0!==this._time||0===u)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||y))}a=this._firstPT;for(;a;){a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s;a=a._next}if(this._onUpdate){0>t&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,n);e||(this._time!==o||i)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||y)}if(r&&(!this._gc||n)){0>t&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,n);if(i){this._timeline.autoRemoveChildren&&this._enabled(!1,!1);this._active=!1}!e&&this.vars[r]&&this.vars[r].apply(this.vars[r+"Scope"]||this,this.vars[r+"Params"]||y);0===u&&this._rawPrevTime===h&&s!==h&&(this._rawPrevTime=0)}}};a._kill=function(t,e,n){"all"===t&&(t=null);if(null==t&&(null==e||e===this.target)){this._lazy=!1;return this._enabled(!1,!1)}e="string"!=typeof e?e||this._targets||this.target:L.selector(e)||e;var i,r,a,s,o,u,l,h,f;if((d(e)||N(e))&&"number"!=typeof e[0]){i=e.length;for(;--i>-1;)this._kill(t,e[i])&&(u=!0)}else{if(this._targets){i=this._targets.length;for(;--i>-1;)if(e===this._targets[i]){o=this._propLookup[i]||{};this._overwrittenProps=this._overwrittenProps||[];r=this._overwrittenProps[i]=t?this._overwrittenProps[i]||{}:"all";break}}else{if(e!==this.target)return!1;o=this._propLookup;r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(o){l=t||o;h=t!==r&&"all"!==r&&t!==o&&("object"!=typeof t||!t._tempKill);if(n&&(L.onOverwrite||this.vars.onOverwrite)){for(a in l)if(o[a]){f||(f=[]);f.push(a)}if(!Y(this,n,e,f))return!1}for(a in l){if(s=o[a]){s.pg&&s.t._kill(l)&&(u=!0);if(!s.pg||0===s.t._overwriteProps.length){s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next);s._next&&(s._next._prev=s._prev);s._next=s._prev=null}delete o[a]}h&&(r[a]=1)}!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u};a.invalidate=function(){this._notifyPluginsOfEnabled&&L._onPluginEvent("_onDisable",this);this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null;this._notifyPluginsOfEnabled=this._active=this._lazy=!1;this._propLookup=this._targets?{}:[];A.prototype.invalidate.call(this);if(this.vars.immediateRender){this._time=-h;this.render(-this._delay)}return this};a._enabled=function(t,e){o||s.wake();if(t&&this._gc){var n,i=this._targets;if(i){n=i.length;for(;--n>-1;)this._siblings[n]=V(i[n],this,!0)}else this._siblings=V(this.target,this,!0)}A.prototype._enabled.call(this,t,e);return this._notifyPluginsOfEnabled&&this._firstPT?L._onPluginEvent(t?"_onEnable":"_onDisable",this):!1};L.to=function(t,e,n){return new L(t,e,n)};L.from=function(t,e,n){n.runBackwards=!0;n.immediateRender=0!=n.immediateRender;return new L(t,e,n)};L.fromTo=function(t,e,n,i){i.startAt=n;i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender;return new L(t,e,i)};L.delayedCall=function(t,e,n,i,r){return new L(e,0,{delay:t,onComplete:e,onCompleteParams:n,onCompleteScope:i,onReverseComplete:e,onReverseCompleteParams:n,onReverseCompleteScope:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})};L.set=function(t,e){return new L(t,0,e)};L.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:L.selector(t)||t;var n,i,r,a;if((d(t)||N(t))&&"number"!=typeof t[0]){n=t.length;i=[];for(;--n>-1;)i=i.concat(L.getTweensOf(t[n],e));n=i.length;for(;--n>-1;){a=i[n];r=n;for(;--r>-1;)a===i[r]&&i.splice(n,1)}}else{i=V(t).concat();n=i.length;for(;--n>-1;)(i[n]._gc||e&&!i[n].isActive())&&i.splice(n,1)}return i};L.killTweensOf=L.killDelayedCallsTo=function(t,e,n){if("object"==typeof e){n=e;e=!1}for(var i=L.getTweensOf(t,e),r=i.length;--r>-1;)i[r]._kill(n,t)};var $=v("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(",");this._propName=this._overwriteProps[0];this._priority=e||0;this._super=$.prototype},!0);a=$.prototype;$.version="1.10.1";$.API=2;a._firstPT=null;a._addTween=function(t,e,n,i,r,a){var s,o;if(null!=i&&(s="number"==typeof i||"="!==i.charAt(1)?Number(i)-n:parseInt(i.charAt(0)+"1",10)*Number(i.substr(2)))){this._firstPT=o={_next:this._firstPT,t:t,p:e,s:n,c:s,f:"function"==typeof t[e],n:r||e,r:a};o._next&&(o._next._prev=o);return o}};a.setRatio=function(t){for(var e,n=this._firstPT,i=1e-6;n;){e=n.c*t+n.s;n.r?e=Math.round(e):i>e&&e>-i&&(e=0);n.f?n.t[n.p](e):n.t[n.p]=e;n=n._next}};a._kill=function(t){var e,n=this._overwriteProps,i=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else{e=n.length;for(;--e>-1;)null!=t[n[e]]&&n.splice(e,1)}for(;i;){if(null!=t[i.n]){i._next&&(i._next._prev=i._prev);if(i._prev){i._prev._next=i._next;i._prev=null}else this._firstPT===i&&(this._firstPT=i._next)}i=i._next}return!1};a._roundProps=function(t,e){for(var n=this._firstPT;n;){(t[this._propName]||null!=n.n&&t[n.n.split(this._propName+"_").join("")])&&(n.r=e);n=n._next}};L._onPluginEvent=function(t,e){var n,i,r,a,s,o=e._firstPT;if("_onInitAllProps"===t){for(;o;){s=o._next;i=r;for(;i&&i.pr>o.pr;)i=i._next;(o._prev=i?i._prev:a)?o._prev._next=o:r=o;(o._next=i)?i._prev=o:a=o;o=s}o=e._firstPT=r}for(;o;){o.pg&&"function"==typeof o.t[t]&&o.t[t]()&&(n=!0);o=o._next}return n};$.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===$.API&&(O[(new t[e])._propName]=t[e]);return!0};g.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,n=t.propName,i=t.priority||0,r=t.overwriteProps,a={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},s=v("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){$.call(this,n,i);this._overwriteProps=r||[]},t.global===!0),o=s.prototype=new $(n);o.constructor=s;s.API=t.API;for(e in a)"function"==typeof t[e]&&(o[a[e]]=t[e]);s.version=t.version;$.activate([s]);return s};i=t._gsQueue;if(i){for(r=0;r<i.length;r++)i[r]();for(a in p)p[a].func||t.console.log("GSAP encountered missing dependency: com.greensock."+a)}o=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenLite");define("TweenLite",function(){});var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,n){var i=function(t){e.call(this,t);this._labels={};this.autoRemoveChildren=this.vars.autoRemoveChildren===!0;this.smoothChildTiming=this.vars.smoothChildTiming===!0;this._sortChildren=!0;this._onUpdate=this.vars.onUpdate;var n,i,r=this.vars;for(i in r){n=r[i];u(n)&&-1!==n.join("").indexOf("{self}")&&(r[i]=this._swapSelfInParams(n))}u(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,a=n._internals,s=i._internals={},o=a.isSelector,u=a.isArray,l=a.lazyTweens,h=a.lazyRender,f=[],c=_gsScope._gsDefine.globals,d=function(t){var e,n={};for(e in t)n[e]=t[e];return n},p=s.pauseCallback=function(t,e,n,i){var a,s=t._timeline,o=s._totalTime,u=t._startTime,l=t._rawPrevTime<0||0===t._rawPrevTime&&s._reversed,h=l?0:r,c=l?r:0;if(e||!this._forcingPlayhead){s.pause(u);a=t._prev;for(;a&&a._startTime===u;){a._rawPrevTime=c;a=a._prev}a=t._next;for(;a&&a._startTime===u;){a._rawPrevTime=h;a=a._next}e&&e.apply(i||s,n||f);(this._forcingPlayhead||!s._paused)&&s.seek(o)}},m=function(t){var e,n=[],i=t.length;for(e=0;e!==i;n.push(t[e++]));return n},g=i.prototype=new e;i.version="1.16.1";g.constructor=i;g.kill()._gc=g._forcingPlayhead=!1;g.to=function(t,e,i,r){var a=i.repeat&&c.TweenMax||n;return e?this.add(new a(t,e,i),r):this.set(t,i,r)};g.from=function(t,e,i,r){return this.add((i.repeat&&c.TweenMax||n).from(t,e,i),r)};g.fromTo=function(t,e,i,r,a){var s=r.repeat&&c.TweenMax||n;return e?this.add(s.fromTo(t,e,i,r),a):this.set(t,r,a)};g.staggerTo=function(t,e,r,a,s,u,l,h){var f,c=new i({onComplete:u,onCompleteParams:l,onCompleteScope:h,smoothChildTiming:this.smoothChildTiming});"string"==typeof t&&(t=n.selector(t)||t);t=t||[];o(t)&&(t=m(t));a=a||0;if(0>a){t=m(t);t.reverse();a*=-1}for(f=0;f<t.length;f++){r.startAt&&(r.startAt=d(r.startAt));c.to(t[f],e,d(r),f*a)}return this.add(c,s)};g.staggerFrom=function(t,e,n,i,r,a,s,o){n.immediateRender=0!=n.immediateRender;n.runBackwards=!0;return this.staggerTo(t,e,n,i,r,a,s,o)};g.staggerFromTo=function(t,e,n,i,r,a,s,o,u){i.startAt=n;i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender;return this.staggerTo(t,e,i,r,a,s,o,u)};g.call=function(t,e,i,r){return this.add(n.delayedCall(0,t,e,i),r)};g.set=function(t,e,i){i=this._parseTimeOrLabel(i,0,!0);null==e.immediateRender&&(e.immediateRender=i===this._time&&!this._paused);return this.add(new n(t,0,e),i)};i.exportRoot=function(t,e){t=t||{};null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var r,a,s=new i(t),o=s._timeline;null==e&&(e=!0);o._remove(s,!0);s._startTime=0;s._rawPrevTime=s._time=s._totalTime=o._time;r=o._first;for(;r;){a=r._next;e&&r instanceof n&&r.target===r.vars.onComplete||s.add(r,r._startTime-r._delay);r=a}o.add(s,0);return s};g.add=function(r,a,s,o){var l,h,f,c,d,p;"number"!=typeof a&&(a=this._parseTimeOrLabel(a,0,!0,r));if(!(r instanceof t)){if(r instanceof Array||r&&r.push&&u(r)){s=s||"normal";o=o||0;l=a;h=r.length;for(f=0;h>f;f++){u(c=r[f])&&(c=new i({tweens:c}));this.add(c,l);"string"!=typeof c&&"function"!=typeof c&&("sequence"===s?l=c._startTime+c.totalDuration()/c._timeScale:"start"===s&&(c._startTime-=c.delay()));l+=o}return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,a);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=n.delayedCall(0,r)}e.prototype.add.call(this,r,a);if((this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration()){d=this;p=d.rawTime()>r._startTime;for(;d._timeline;){p&&d._timeline.smoothChildTiming?d.totalTime(d._totalTime,!0):d._gc&&d._enabled(!0,!1);d=d._timeline}}return this};g.remove=function(e){if(e instanceof t)return this._remove(e,!1);if(e instanceof Array||e&&e.push&&u(e)){for(var n=e.length;--n>-1;)this.remove(e[n]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)};g._remove=function(t,n){e.prototype._remove.call(this,t,n);var i=this._last;if(i){if(this._time>i._startTime+i._totalDuration/i._timeScale){this._time=this.duration();this._totalTime=this._totalDuration}}else this._time=this._totalTime=this._duration=this._totalDuration=0;return this};g.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))};g.insert=g.insertMultiple=function(t,e,n,i){return this.add(t,e||0,n,i)};g.appendMultiple=function(t,e,n,i){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),n,i)};g.addLabel=function(t,e){this._labels[t]=this._parseTimeOrLabel(e);return this};g.addPause=function(t,e,i,r){var a=n.delayedCall(0,p,["{self}",e,i,r],this);a.data="isPause";return this.add(a,t)};g.removeLabel=function(t){delete this._labels[t];return this};g.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1};g._parseTimeOrLabel=function(e,n,i,r){var a;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&u(r))){a=r.length;for(;--a>-1;)r[a]instanceof t&&r[a].timeline===this&&this.remove(r[a])}if("string"==typeof n)return this._parseTimeOrLabel(n,i&&"number"==typeof e&&null==this._labels[n]?e-this.duration():0,i);n=n||0;if("string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{a=e.indexOf("=");if(-1===a)return null==this._labels[e]?i?this._labels[e]=this.duration()+n:n:this._labels[e]+n;n=parseInt(e.charAt(a-1)+"1",10)*Number(e.substr(a+1));e=a>1?this._parseTimeOrLabel(e.substr(0,a-1),0,i):this.duration()}return Number(e)+n};g.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)};g.stop=function(){return this.paused(!0)};g.gotoAndPlay=function(t,e){return this.play(t,e)};g.gotoAndStop=function(t,e){return this.pause(t,e)};g.render=function(t,e,n){this._gc&&this._enabled(!0,!1);var i,a,s,o,u,c=this._dirty?this.totalDuration():this._totalDuration,d=this._time,p=this._startTime,m=this._timeScale,g=this._paused;if(t>=c){this._totalTime=this._time=c;if(!this._reversed&&!this._hasPausedChild()){a=!0;o="onComplete";u=!!this._timeline.autoRemoveChildren;if(0===this._duration&&(0===t||this._rawPrevTime<0||this._rawPrevTime===r)&&this._rawPrevTime!==t&&this._first){u=!0;this._rawPrevTime>r&&(o="onReverseComplete")}}this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r;t=c+1e-4}else if(1e-7>t){this._totalTime=this._time=0;if(0!==d||0===this._duration&&this._rawPrevTime!==r&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0)){o="onReverseComplete";a=this._reversed}if(0>t){this._active=!1;if(this._timeline.autoRemoveChildren&&this._reversed){u=a=!0;o="onReverseComplete"}else this._rawPrevTime>=0&&this._first&&(u=!0);this._rawPrevTime=t}else{this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r;if(0===t&&a){i=this._first;for(;i&&0===i._startTime;){i._duration||(a=!1);i=i._next}}t=0;this._initted||(u=!0)}}else this._totalTime=this._time=this._rawPrevTime=t;if(this._time!==d&&this._first||n||u){this._initted||(this._initted=!0);this._active||!this._paused&&this._time!==d&&t>0&&(this._active=!0);0===d&&this.vars.onStart&&0!==this._time&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||f));if(this._time>=d){i=this._first;for(;i;){s=i._next;if(this._paused&&!g)break;(i._active||i._startTime<=this._time&&!i._paused&&!i._gc)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n));i=s}}else{i=this._last;for(;i;){s=i._prev;if(this._paused&&!g)break;(i._active||i._startTime<=d&&!i._paused&&!i._gc)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n));i=s}}if(this._onUpdate&&!e){l.length&&h();this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||f)}if(o&&!this._gc&&(p===this._startTime||m!==this._timeScale)&&(0===this._time||c>=this.totalDuration())){if(a){l.length&&h();this._timeline.autoRemoveChildren&&this._enabled(!1,!1);this._active=!1}!e&&this.vars[o]&&this.vars[o].apply(this.vars[o+"Scope"]||this,this.vars[o+"Params"]||f)}}};g._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof i&&t._hasPausedChild())return!0;t=t._next}return!1};g.getChildren=function(t,e,i,r){r=r||-9999999999;for(var a=[],s=this._first,o=0;s;){if(s._startTime<r);else if(s instanceof n)e!==!1&&(a[o++]=s);else{i!==!1&&(a[o++]=s);if(t!==!1){a=a.concat(s.getChildren(!0,e,i));o=a.length}}s=s._next}return a};g.getTweensOf=function(t,e){var i,r,a=this._gc,s=[],o=0;a&&this._enabled(!0,!0);i=n.getTweensOf(t);r=i.length;for(;--r>-1;)(i[r].timeline===this||e&&this._contains(i[r]))&&(s[o++]=i[r]);a&&this._enabled(!1,!0);return s};g.recent=function(){return this._recent};g._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1};g.shiftChildren=function(t,e,n){n=n||0;for(var i,r=this._first,a=this._labels;r;){r._startTime>=n&&(r._startTime+=t);r=r._next}if(e)for(i in a)a[i]>=n&&(a[i]+=t);return this._uncache(!0)};g._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var n=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),i=n.length,r=!1;--i>-1;)n[i]._kill(t,e)&&(r=!0);return r};g.clear=function(t){var e=this.getChildren(!1,!0,!0),n=e.length;this._time=this._totalTime=0;for(;--n>-1;)e[n]._enabled(!1,!1);t!==!1&&(this._labels={});return this._uncache(!0)};g.invalidate=function(){for(var e=this._first;e;){e.invalidate();e=e._next}return t.prototype.invalidate.call(this)};g._enabled=function(t,n){if(t===this._gc)for(var i=this._first;i;){i._enabled(t,!0);i=i._next}return e.prototype._enabled.call(this,t,n)};g.totalTime=function(){this._forcingPlayhead=!0;var e=t.prototype.totalTime.apply(this,arguments);this._forcingPlayhead=!1;return e};g.duration=function(t){if(!arguments.length){this._dirty&&this.totalDuration();return this._duration}0!==this.duration()&&0!==t&&this.timeScale(this._duration/t);return this};g.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,n,i=0,r=this._last,a=999999999999;r;){e=r._prev;r._dirty&&r.totalDuration();r._startTime>a&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):a=r._startTime;if(r._startTime<0&&!r._paused){i-=r._startTime;this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale);this.shiftChildren(-r._startTime,!1,-9999999999);a=0}n=r._startTime+r._totalDuration/r._timeScale;n>i&&(i=n);r=e}this._duration=this._totalDuration=i;this._dirty=!1}return this._totalDuration}0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t);return this};g.paused=function(e){if(!e)for(var n=this._first,i=this._time;n;){n._startTime===i&&"isPause"===n.data&&(n._rawPrevTime=0);n=n._next}return t.prototype.paused.apply(this,arguments)};g.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline};g.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale};return i},!0)});_gsScope._gsDefine&&_gsScope._gsQueue.pop()();!function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope)[t]};if("function"==typeof define&&define.amd)define("TimelineLite",["TweenLite"],e);else if("undefined"!=typeof module&&module.exports){require("./TweenLite.js");module.exports=e()}}("TimelineLite");define("app/Visual",["require","./Constants","./ParticleSystem","TimelineLite"],function(t){"use strict";function e(){this.shouldStop=!1;this.build()}function n(){this.system=new r;this.timeline=new a;this.timeline.from(this.system,0,{}).to(this.system,1.4,{scale:.1,rotationY:7*Math.PI,rotationZ:Math.PI/4,ease:Power4.easeInOut}).to(this.system,.2,{scale:.25,rotationX:0,rotationY:6*Math.PI*1.125,rotationZ:Math.PI/8,ease:Quart.easeOut}).to(this.system,1,{scale:.96,rotationX:0,rotationY:4*Math.PI,rotationZ:0,ease:Power4.easeOut},"+= 0.05").to(this.system,.35,{scale:1,rotationX:0,rotationY:4*Math.PI,rotationZ:0,ease:Linear.easeInOut})}function i(){function t(){if(!n.shouldStop){requestAnimationFrame(t);var a=(new Date).getTime(),u=a-e;e=a;if(!(u>=o)){if(!i._active){r.rotationX=0;r.rotationY=0;r.rotationZ=0;i.restart()}var l=u/s;r.step(l)}}}var e=(new Date).getTime(),n=this,i=this.timeline,r=this.system;t()}{var r=(t("./Constants"),t("./ParticleSystem")),a=t("TimelineLite"),s=1e3,o=s/60*15;window.Power1}e.prototype.build=n;e.prototype.run=i;return e});require(["docReady","app/Visual"],function(t,e){"use strict";t(function(){var t=new e;t.run()})});define("main",function(){});